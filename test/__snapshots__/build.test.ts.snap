// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Build Local snapshot testing: auditStacksGlobalTemplate snapshot 1`] = `
{
  "Parameters": {
    "BootstrapVersion": {
      "Default": "/cdk-bootstrap/hnb659fds/version",
      "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]",
      "Type": "AWS::SSM::Parameter::Value<String>",
    },
  },
  "Resources": {
    "dlzglobalshnotificationnotifyhighdenyallguardrailpoliciesC1D5E535": {
      "Properties": {
        "Description": "Deny all guardrail policies",
        "ManagedPolicyName": "dlz-global-sh-notification-notify-high-deny-all-guardrail-policies",
        "Path": "/",
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "*",
              "Effect": "Deny",
              "Resource": "*",
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::ManagedPolicy",
    },
    "dlzglobalshnotificationnotifyhighruleAEE0ECF2": {
      "Properties": {
        "EventPattern": {
          "detail": {
            "findings": {
              "RecordState": [
                "ACTIVE",
              ],
              "Severity": {
                "Label": [
                  "MEDIUM",
                  "HIGH",
                  "CRITICAL",
                ],
              },
              "Workflow": {
                "Status": [
                  "NEW",
                ],
              },
            },
          },
          "detail-type": [
            "Security Hub Findings - Imported",
          ],
          "source": [
            "aws.securityhub",
          ],
        },
        "Name": "dlz-global-sh-notification-notify-high-rule",
        "State": "ENABLED",
        "Targets": [
          {
            "Arn": {
              "Ref": "dlzglobalshnotificationnotifyhightopicA3A6CC12",
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "dlzglobalshnotificationnotifyhightopicA3A6CC12": {
      "Properties": {
        "DisplayName": "dlz-global-sh-notification-notify-high-topic",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TopicName": "dlz-global-sh-notification-notify-high-topic",
      },
      "Type": "AWS::SNS::Topic",
    },
    "dlzglobalshnotificationnotifyhightopicPolicy768DF58C": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "sns:Publish",
              "Effect": "Allow",
              "Principal": {
                "Service": "events.amazonaws.com",
              },
              "Resource": {
                "Ref": "dlzglobalshnotificationnotifyhightopicA3A6CC12",
              },
              "Sid": "0",
            },
          ],
          "Version": "2012-10-17",
        },
        "Topics": [
          {
            "Ref": "dlzglobalshnotificationnotifyhightopicA3A6CC12",
          },
        ],
      },
      "Type": "AWS::SNS::TopicPolicy",
    },
    "dlzglobalshnotificationnotifyresolvedruleBA6FF41A": {
      "Properties": {
        "EventPattern": {
          "detail": {
            "findings": {
              "RecordState": [
                "ACTIVE",
              ],
              "Workflow": {
                "Status": [
                  "RESOLVED",
                  "SUPPRESSED",
                ],
              },
            },
          },
          "detail-type": [
            "Security Hub Findings - Imported",
          ],
          "source": [
            "aws.securityhub",
          ],
        },
        "Name": "dlz-global-sh-notification-notify-resolved-rule",
        "State": "ENABLED",
        "Targets": [
          {
            "Arn": {
              "Ref": "dlzglobalshnotificationnotifyresolvedtopicA2EFD6BB",
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "dlzglobalshnotificationnotifyresolvedtopicA2EFD6BB": {
      "Properties": {
        "DisplayName": "dlz-global-sh-notification-notify-resolved-topic",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TopicName": "dlz-global-sh-notification-notify-resolved-topic",
      },
      "Type": "AWS::SNS::Topic",
    },
    "dlzglobalshnotificationnotifyresolvedtopicPolicy4F99A21C": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "sns:Publish",
              "Effect": "Allow",
              "Principal": {
                "Service": "events.amazonaws.com",
              },
              "Resource": {
                "Ref": "dlzglobalshnotificationnotifyresolvedtopicA2EFD6BB",
              },
              "Sid": "0",
            },
          ],
          "Version": "2012-10-17",
        },
        "Topics": [
          {
            "Ref": "dlzglobalshnotificationnotifyresolvedtopicA2EFD6BB",
          },
        ],
      },
      "Type": "AWS::SNS::TopicPolicy",
    },
  },
  "Rules": {
    "CheckBootstrapVersion": {
      "Assertions": [
        {
          "Assert": {
            "Fn::Not": [
              {
                "Fn::Contains": [
                  [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                  ],
                  {
                    "Ref": "BootstrapVersion",
                  },
                ],
              },
            ],
          },
          "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI.",
        },
      ],
    },
  },
}
`;

exports[`Build Local snapshot testing: auditStacksRegionalTemplates snapshot 1`] = `
{
  "Parameters": {
    "BootstrapVersion": {
      "Default": "/cdk-bootstrap/hnb659fds/version",
      "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]",
      "Type": "AWS::SSM::Parameter::Value<String>",
    },
  },
  "Rules": {
    "CheckBootstrapVersion": {
      "Assertions": [
        {
          "Assert": {
            "Fn::Not": [
              {
                "Fn::Contains": [
                  [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                  ],
                  {
                    "Ref": "BootstrapVersion",
                  },
                ],
              },
            ],
          },
          "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI.",
        },
      ],
    },
  },
}
`;

exports[`Build Local snapshot testing: logStacksGlobalTemplate snapshot 1`] = `
{
  "Parameters": {
    "BootstrapVersion": {
      "Default": "/cdk-bootstrap/hnb659fds/version",
      "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]",
      "Type": "AWS::SSM::Parameter::Value<String>",
    },
  },
  "Rules": {
    "CheckBootstrapVersion": {
      "Assertions": [
        {
          "Assert": {
            "Fn::Not": [
              {
                "Fn::Contains": [
                  [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                  ],
                  {
                    "Ref": "BootstrapVersion",
                  },
                ],
              },
            ],
          },
          "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI.",
        },
      ],
    },
  },
}
`;

exports[`Build Local snapshot testing: logStacksRegionalTemplates snapshot 1`] = `
{
  "Parameters": {
    "BootstrapVersion": {
      "Default": "/cdk-bootstrap/hnb659fds/version",
      "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]",
      "Type": "AWS::SSM::Parameter::Value<String>",
    },
  },
  "Rules": {
    "CheckBootstrapVersion": {
      "Assertions": [
        {
          "Assert": {
            "Fn::Not": [
              {
                "Fn::Contains": [
                  [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                  ],
                  {
                    "Ref": "BootstrapVersion",
                  },
                ],
              },
            ],
          },
          "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI.",
        },
      ],
    },
  },
}
`;

exports[`Build Local snapshot testing: managementTemplate snapshot 1`] = `
{
  "Outputs": {
    "dlzglobalgithubdeployroleout": {
      "Description": "Arn for AWS IAM role with Github oidc auth",
      "Export": {
        "Name": "dlz-global-git-hub-deploy-role",
      },
      "Value": {
        "Fn::GetAtt": [
          "dlzglobalgithubdeployrole69EF8551",
          "Arn",
        ],
      },
    },
  },
  "Parameters": {
    "BootstrapVersion": {
      "Default": "/cdk-bootstrap/hnb659fds/version",
      "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]",
      "Type": "AWS::SSM::Parameter::Value<String>",
    },
  },
  "Resources": {
    "CustomAWSCDKOpenIdConnectProviderCustomResourceProviderHandlerF2C543E0": {
      "DependsOn": [
        "CustomAWSCDKOpenIdConnectProviderCustomResourceProviderRole517FED65",
      ],
      "Properties": {
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-882070149987-eu-west-1",
          "S3Key": "977fc1649d2dbcce16e23f6332faef6fa0f48aa74a0afe35f4a3467754e20cd8.zip",
        },
        "Handler": "__entrypoint__.handler",
        "MemorySize": 128,
        "Role": {
          "Fn::GetAtt": [
            "CustomAWSCDKOpenIdConnectProviderCustomResourceProviderRole517FED65",
            "Arn",
          ],
        },
        "Runtime": "nodejs18.x",
        "Timeout": 900,
      },
      "Type": "AWS::Lambda::Function",
    },
    "CustomAWSCDKOpenIdConnectProviderCustomResourceProviderRole517FED65": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": [
          {
            "Fn::Sub": "arn:\${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
          },
        ],
        "Policies": [
          {
            "PolicyDocument": {
              "Statement": [
                {
                  "Action": [
                    "iam:CreateOpenIDConnectProvider",
                    "iam:DeleteOpenIDConnectProvider",
                    "iam:UpdateOpenIDConnectProviderThumbprint",
                    "iam:AddClientIDToOpenIDConnectProvider",
                    "iam:RemoveClientIDFromOpenIDConnectProvider",
                  ],
                  "Effect": "Allow",
                  "Resource": "*",
                },
              ],
              "Version": "2012-10-17",
            },
            "PolicyName": "Inline",
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "CustomDlzIdentityStoreUserCustomResourceProviderHandlerB083ECF7": {
      "DependsOn": [
        "CustomDlzIdentityStoreUserCustomResourceProviderRole5D5EB15B",
      ],
      "Properties": {
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-882070149987-eu-west-1",
          "S3Key": "71a9e3e3823d5561f789457818c3528724716e1f1ffd9c0ea663b6167788f869.zip",
        },
        "Handler": "__entrypoint__.handler",
        "MemorySize": 128,
        "Role": {
          "Fn::GetAtt": [
            "CustomDlzIdentityStoreUserCustomResourceProviderRole5D5EB15B",
            "Arn",
          ],
        },
        "Runtime": "nodejs18.x",
        "Timeout": 60,
      },
      "Type": "AWS::Lambda::Function",
    },
    "CustomDlzIdentityStoreUserCustomResourceProviderRole5D5EB15B": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": [
          {
            "Fn::Sub": "arn:\${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
          },
        ],
        "Policies": [
          {
            "PolicyDocument": {
              "Statement": [
                {
                  "Action": [
                    "identitystore:CreateUser",
                    "identitystore:DescribeUser",
                    "identitystore:UpdateUser",
                    "identitystore:DeleteUser",
                    "identitystore:ListUsers",
                  ],
                  "Effect": "Allow",
                  "Resource": "*",
                },
              ],
              "Version": "2012-10-17",
            },
            "PolicyName": "Inline",
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "dlzglobalAWSGRENCRYPTEDVOLUMESsecurity": {
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_ENCRYPTED_VOLUMES",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-lpyovlyp",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRENCRYPTEDVOLUMESsuspended": {
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_ENCRYPTED_VOLUMES",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-rhcmhzsy",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRENCRYPTEDVOLUMESworkloads": {
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_ENCRYPTED_VOLUMES",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-nc2zzf9z",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSsecurity": {
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_MFA_ENABLED_FOR_IAM_CONSOLE_ACCESS",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-lpyovlyp",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSsuspended": {
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_MFA_ENABLED_FOR_IAM_CONSOLE_ACCESS",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-rhcmhzsy",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSworkloads": {
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_MFA_ENABLED_FOR_IAM_CONSOLE_ACCESS",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-nc2zzf9z",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKsecurity": {
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_RDS_INSTANCE_PUBLIC_ACCESS_CHECK",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-lpyovlyp",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKsuspended": {
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_RDS_INSTANCE_PUBLIC_ACCESS_CHECK",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-rhcmhzsy",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKworkloads": {
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_RDS_INSTANCE_PUBLIC_ACCESS_CHECK",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-nc2zzf9z",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDsecurity": {
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_RDS_SNAPSHOTS_PUBLIC_PROHIBITED",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-lpyovlyp",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDsuspended": {
      "DependsOn": [
        "dlzglobalAWSGRENCRYPTEDVOLUMESsecurity",
        "dlzglobalAWSGRENCRYPTEDVOLUMESsuspended",
        "dlzglobalAWSGRENCRYPTEDVOLUMESworkloads",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSsecurity",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSsuspended",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSworkloads",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKsecurity",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKsuspended",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKworkloads",
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDsecurity",
      ],
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_RDS_SNAPSHOTS_PUBLIC_PROHIBITED",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-rhcmhzsy",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDworkloads": {
      "DependsOn": [
        "dlzglobalAWSGRENCRYPTEDVOLUMESsecurity",
        "dlzglobalAWSGRENCRYPTEDVOLUMESsuspended",
        "dlzglobalAWSGRENCRYPTEDVOLUMESworkloads",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSsecurity",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSsuspended",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSworkloads",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKsecurity",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKsuspended",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKworkloads",
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDsecurity",
      ],
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_RDS_SNAPSHOTS_PUBLIC_PROHIBITED",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-nc2zzf9z",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRRDSSTORAGEENCRYPTEDsecurity": {
      "DependsOn": [
        "dlzglobalAWSGRENCRYPTEDVOLUMESsecurity",
        "dlzglobalAWSGRENCRYPTEDVOLUMESsuspended",
        "dlzglobalAWSGRENCRYPTEDVOLUMESworkloads",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSsecurity",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSsuspended",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSworkloads",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKsecurity",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKsuspended",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKworkloads",
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDsecurity",
      ],
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_RDS_STORAGE_ENCRYPTED",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-lpyovlyp",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRRDSSTORAGEENCRYPTEDsuspended": {
      "DependsOn": [
        "dlzglobalAWSGRENCRYPTEDVOLUMESsecurity",
        "dlzglobalAWSGRENCRYPTEDVOLUMESsuspended",
        "dlzglobalAWSGRENCRYPTEDVOLUMESworkloads",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSsecurity",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSsuspended",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSworkloads",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKsecurity",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKsuspended",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKworkloads",
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDsecurity",
      ],
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_RDS_STORAGE_ENCRYPTED",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-rhcmhzsy",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRRDSSTORAGEENCRYPTEDworkloads": {
      "DependsOn": [
        "dlzglobalAWSGRENCRYPTEDVOLUMESsecurity",
        "dlzglobalAWSGRENCRYPTEDVOLUMESsuspended",
        "dlzglobalAWSGRENCRYPTEDVOLUMESworkloads",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSsecurity",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSsuspended",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSworkloads",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKsecurity",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKsuspended",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKworkloads",
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDsecurity",
      ],
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_RDS_STORAGE_ENCRYPTED",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-nc2zzf9z",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRRESTRICTEDSSHsecurity": {
      "DependsOn": [
        "dlzglobalAWSGRENCRYPTEDVOLUMESsecurity",
        "dlzglobalAWSGRENCRYPTEDVOLUMESsuspended",
        "dlzglobalAWSGRENCRYPTEDVOLUMESworkloads",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSsecurity",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSsuspended",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSworkloads",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKsecurity",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKsuspended",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKworkloads",
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDsecurity",
      ],
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_RESTRICTED_SSH",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-lpyovlyp",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRRESTRICTEDSSHsuspended": {
      "DependsOn": [
        "dlzglobalAWSGRENCRYPTEDVOLUMESsecurity",
        "dlzglobalAWSGRENCRYPTEDVOLUMESsuspended",
        "dlzglobalAWSGRENCRYPTEDVOLUMESworkloads",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSsecurity",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSsuspended",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSworkloads",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKsecurity",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKsuspended",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKworkloads",
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDsecurity",
      ],
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_RESTRICTED_SSH",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-rhcmhzsy",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRRESTRICTEDSSHworkloads": {
      "DependsOn": [
        "dlzglobalAWSGRENCRYPTEDVOLUMESsecurity",
        "dlzglobalAWSGRENCRYPTEDVOLUMESsuspended",
        "dlzglobalAWSGRENCRYPTEDVOLUMESworkloads",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSsecurity",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSsuspended",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSworkloads",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKsecurity",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKsuspended",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKworkloads",
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDsecurity",
      ],
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_RESTRICTED_SSH",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-nc2zzf9z",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRRESTRICTROOTUSERACCESSKEYSsecurity": {
      "DependsOn": [
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDsuspended",
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDworkloads",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDsecurity",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDsuspended",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDworkloads",
        "dlzglobalAWSGRRESTRICTROOTUSERsecurity",
        "dlzglobalAWSGRRESTRICTROOTUSERworkloads",
        "dlzglobalAWSGRRESTRICTEDSSHsecurity",
        "dlzglobalAWSGRRESTRICTEDSSHsuspended",
        "dlzglobalAWSGRRESTRICTEDSSHworkloads",
      ],
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_RESTRICT_ROOT_USER_ACCESS_KEYS",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-lpyovlyp",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRRESTRICTROOTUSERACCESSKEYSsuspended": {
      "DependsOn": [
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDsuspended",
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDworkloads",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDsecurity",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDsuspended",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDworkloads",
        "dlzglobalAWSGRRESTRICTROOTUSERsecurity",
        "dlzglobalAWSGRRESTRICTROOTUSERworkloads",
        "dlzglobalAWSGRRESTRICTEDSSHsecurity",
        "dlzglobalAWSGRRESTRICTEDSSHsuspended",
        "dlzglobalAWSGRRESTRICTEDSSHworkloads",
      ],
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_RESTRICT_ROOT_USER_ACCESS_KEYS",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-rhcmhzsy",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRRESTRICTROOTUSERACCESSKEYSworkloads": {
      "DependsOn": [
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDsuspended",
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDworkloads",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDsecurity",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDsuspended",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDworkloads",
        "dlzglobalAWSGRRESTRICTROOTUSERsecurity",
        "dlzglobalAWSGRRESTRICTROOTUSERworkloads",
        "dlzglobalAWSGRRESTRICTEDSSHsecurity",
        "dlzglobalAWSGRRESTRICTEDSSHsuspended",
        "dlzglobalAWSGRRESTRICTEDSSHworkloads",
      ],
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_RESTRICT_ROOT_USER_ACCESS_KEYS",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-nc2zzf9z",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRRESTRICTROOTUSERsecurity": {
      "DependsOn": [
        "dlzglobalAWSGRENCRYPTEDVOLUMESsecurity",
        "dlzglobalAWSGRENCRYPTEDVOLUMESsuspended",
        "dlzglobalAWSGRENCRYPTEDVOLUMESworkloads",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSsecurity",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSsuspended",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSworkloads",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKsecurity",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKsuspended",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKworkloads",
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDsecurity",
      ],
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_RESTRICT_ROOT_USER",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-lpyovlyp",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRRESTRICTROOTUSERsuspended": {
      "DependsOn": [
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDsuspended",
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDworkloads",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDsecurity",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDsuspended",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDworkloads",
        "dlzglobalAWSGRRESTRICTROOTUSERsecurity",
        "dlzglobalAWSGRRESTRICTROOTUSERworkloads",
        "dlzglobalAWSGRRESTRICTEDSSHsecurity",
        "dlzglobalAWSGRRESTRICTEDSSHsuspended",
        "dlzglobalAWSGRRESTRICTEDSSHworkloads",
      ],
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_RESTRICT_ROOT_USER",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-rhcmhzsy",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRRESTRICTROOTUSERworkloads": {
      "DependsOn": [
        "dlzglobalAWSGRENCRYPTEDVOLUMESsecurity",
        "dlzglobalAWSGRENCRYPTEDVOLUMESsuspended",
        "dlzglobalAWSGRENCRYPTEDVOLUMESworkloads",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSsecurity",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSsuspended",
        "dlzglobalAWSGRMFAENABLEDFORIAMCONSOLEACCESSworkloads",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKsecurity",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKsuspended",
        "dlzglobalAWSGRRDSINSTANCEPUBLICACCESSCHECKworkloads",
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDsecurity",
      ],
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_RESTRICT_ROOT_USER",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-nc2zzf9z",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRROOTACCOUNTMFAENABLEDsecurity": {
      "DependsOn": [
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDsuspended",
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDworkloads",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDsecurity",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDsuspended",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDworkloads",
        "dlzglobalAWSGRRESTRICTROOTUSERsecurity",
        "dlzglobalAWSGRRESTRICTROOTUSERworkloads",
        "dlzglobalAWSGRRESTRICTEDSSHsecurity",
        "dlzglobalAWSGRRESTRICTEDSSHsuspended",
        "dlzglobalAWSGRRESTRICTEDSSHworkloads",
      ],
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_ROOT_ACCOUNT_MFA_ENABLED",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-lpyovlyp",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRROOTACCOUNTMFAENABLEDsuspended": {
      "DependsOn": [
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDsuspended",
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDworkloads",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDsecurity",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDsuspended",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDworkloads",
        "dlzglobalAWSGRRESTRICTROOTUSERsecurity",
        "dlzglobalAWSGRRESTRICTROOTUSERworkloads",
        "dlzglobalAWSGRRESTRICTEDSSHsecurity",
        "dlzglobalAWSGRRESTRICTEDSSHsuspended",
        "dlzglobalAWSGRRESTRICTEDSSHworkloads",
      ],
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_ROOT_ACCOUNT_MFA_ENABLED",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-rhcmhzsy",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRROOTACCOUNTMFAENABLEDworkloads": {
      "DependsOn": [
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDsuspended",
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDworkloads",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDsecurity",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDsuspended",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDworkloads",
        "dlzglobalAWSGRRESTRICTROOTUSERsecurity",
        "dlzglobalAWSGRRESTRICTROOTUSERworkloads",
        "dlzglobalAWSGRRESTRICTEDSSHsecurity",
        "dlzglobalAWSGRRESTRICTEDSSHsuspended",
        "dlzglobalAWSGRRESTRICTEDSSHworkloads",
      ],
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_ROOT_ACCOUNT_MFA_ENABLED",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-nc2zzf9z",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRS3BUCKETPUBLICREADPROHIBITEDsecurity": {
      "DependsOn": [
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDsuspended",
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDworkloads",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDsecurity",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDsuspended",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDworkloads",
        "dlzglobalAWSGRRESTRICTROOTUSERsecurity",
        "dlzglobalAWSGRRESTRICTROOTUSERworkloads",
        "dlzglobalAWSGRRESTRICTEDSSHsecurity",
        "dlzglobalAWSGRRESTRICTEDSSHsuspended",
        "dlzglobalAWSGRRESTRICTEDSSHworkloads",
      ],
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_S3_BUCKET_PUBLIC_READ_PROHIBITED",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-lpyovlyp",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRS3BUCKETPUBLICREADPROHIBITEDsuspended": {
      "DependsOn": [
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDsuspended",
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDworkloads",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDsecurity",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDsuspended",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDworkloads",
        "dlzglobalAWSGRRESTRICTROOTUSERsecurity",
        "dlzglobalAWSGRRESTRICTROOTUSERworkloads",
        "dlzglobalAWSGRRESTRICTEDSSHsecurity",
        "dlzglobalAWSGRRESTRICTEDSSHsuspended",
        "dlzglobalAWSGRRESTRICTEDSSHworkloads",
      ],
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_S3_BUCKET_PUBLIC_READ_PROHIBITED",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-rhcmhzsy",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRS3BUCKETPUBLICREADPROHIBITEDworkloads": {
      "DependsOn": [
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDsuspended",
        "dlzglobalAWSGRRDSSNAPSHOTSPUBLICPROHIBITEDworkloads",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDsecurity",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDsuspended",
        "dlzglobalAWSGRRDSSTORAGEENCRYPTEDworkloads",
        "dlzglobalAWSGRRESTRICTROOTUSERsecurity",
        "dlzglobalAWSGRRESTRICTROOTUSERworkloads",
        "dlzglobalAWSGRRESTRICTEDSSHsecurity",
        "dlzglobalAWSGRRESTRICTEDSSHsuspended",
        "dlzglobalAWSGRRESTRICTEDSSHworkloads",
      ],
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_S3_BUCKET_PUBLIC_READ_PROHIBITED",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-nc2zzf9z",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRS3BUCKETPUBLICWRITEPROHIBITEDsecurity": {
      "DependsOn": [
        "dlzglobalAWSGRRESTRICTROOTUSERACCESSKEYSsecurity",
        "dlzglobalAWSGRRESTRICTROOTUSERACCESSKEYSsuspended",
        "dlzglobalAWSGRRESTRICTROOTUSERACCESSKEYSworkloads",
        "dlzglobalAWSGRRESTRICTROOTUSERsuspended",
        "dlzglobalAWSGRROOTACCOUNTMFAENABLEDsecurity",
        "dlzglobalAWSGRROOTACCOUNTMFAENABLEDsuspended",
        "dlzglobalAWSGRROOTACCOUNTMFAENABLEDworkloads",
        "dlzglobalAWSGRS3BUCKETPUBLICREADPROHIBITEDsecurity",
        "dlzglobalAWSGRS3BUCKETPUBLICREADPROHIBITEDsuspended",
        "dlzglobalAWSGRS3BUCKETPUBLICREADPROHIBITEDworkloads",
      ],
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_S3_BUCKET_PUBLIC_WRITE_PROHIBITED",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-lpyovlyp",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRS3BUCKETPUBLICWRITEPROHIBITEDsuspended": {
      "DependsOn": [
        "dlzglobalAWSGRRESTRICTROOTUSERACCESSKEYSsecurity",
        "dlzglobalAWSGRRESTRICTROOTUSERACCESSKEYSsuspended",
        "dlzglobalAWSGRRESTRICTROOTUSERACCESSKEYSworkloads",
        "dlzglobalAWSGRRESTRICTROOTUSERsuspended",
        "dlzglobalAWSGRROOTACCOUNTMFAENABLEDsecurity",
        "dlzglobalAWSGRROOTACCOUNTMFAENABLEDsuspended",
        "dlzglobalAWSGRROOTACCOUNTMFAENABLEDworkloads",
        "dlzglobalAWSGRS3BUCKETPUBLICREADPROHIBITEDsecurity",
        "dlzglobalAWSGRS3BUCKETPUBLICREADPROHIBITEDsuspended",
        "dlzglobalAWSGRS3BUCKETPUBLICREADPROHIBITEDworkloads",
      ],
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_S3_BUCKET_PUBLIC_WRITE_PROHIBITED",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-rhcmhzsy",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAWSGRS3BUCKETPUBLICWRITEPROHIBITEDworkloads": {
      "DependsOn": [
        "dlzglobalAWSGRRESTRICTROOTUSERACCESSKEYSsecurity",
        "dlzglobalAWSGRRESTRICTROOTUSERACCESSKEYSsuspended",
        "dlzglobalAWSGRRESTRICTROOTUSERACCESSKEYSworkloads",
        "dlzglobalAWSGRRESTRICTROOTUSERsuspended",
        "dlzglobalAWSGRROOTACCOUNTMFAENABLEDsecurity",
        "dlzglobalAWSGRROOTACCOUNTMFAENABLEDsuspended",
        "dlzglobalAWSGRROOTACCOUNTMFAENABLEDworkloads",
        "dlzglobalAWSGRS3BUCKETPUBLICREADPROHIBITEDsecurity",
        "dlzglobalAWSGRS3BUCKETPUBLICREADPROHIBITEDsuspended",
        "dlzglobalAWSGRS3BUCKETPUBLICREADPROHIBITEDworkloads",
      ],
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/AWS-GR_S3_BUCKET_PUBLIC_WRITE_PROHIBITED",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-nc2zzf9z",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalAdministratorAccess": {
      "Properties": {
        "Description": "Provides the AWS managed policy AdministratorAccess as permission set",
        "InstanceArn": "sso-instance-arn",
        "ManagedPolicies": [
          "arn:aws:iam::aws:policy/AdministratorAccess",
        ],
        "Name": "AdministratorAccess",
        "SessionDuration": "PT12H",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
      },
      "Type": "AWS::SSO::PermissionSet",
    },
    "dlzglobalReadOnlyAccess": {
      "Properties": {
        "Description": "Provides the AWS  managed policy ReadOnlyAccess as permission set",
        "InstanceArn": "sso-instance-arn",
        "ManagedPolicies": [
          "arn:aws:iam::aws:policy/ReadOnlyAccess",
        ],
        "Name": "ReadOnlyAccess",
        "SessionDuration": "PT12H",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
      },
      "Type": "AWS::SSO::PermissionSet",
    },
    "dlzglobalSHSecretsManager3suspended": {
      "DependsOn": [
        "dlzglobalAWSGRRESTRICTROOTUSERACCESSKEYSsecurity",
        "dlzglobalAWSGRRESTRICTROOTUSERACCESSKEYSsuspended",
        "dlzglobalAWSGRRESTRICTROOTUSERACCESSKEYSworkloads",
        "dlzglobalAWSGRRESTRICTROOTUSERsuspended",
        "dlzglobalAWSGRROOTACCOUNTMFAENABLEDsecurity",
        "dlzglobalAWSGRROOTACCOUNTMFAENABLEDsuspended",
        "dlzglobalAWSGRROOTACCOUNTMFAENABLEDworkloads",
        "dlzglobalAWSGRS3BUCKETPUBLICREADPROHIBITEDsecurity",
        "dlzglobalAWSGRS3BUCKETPUBLICREADPROHIBITEDsuspended",
        "dlzglobalAWSGRS3BUCKETPUBLICREADPROHIBITEDworkloads",
      ],
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/KRZOMDMWLCLU",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-rhcmhzsy",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalSHSecretsManager3workloads": {
      "DependsOn": [
        "dlzglobalAWSGRRESTRICTROOTUSERACCESSKEYSsecurity",
        "dlzglobalAWSGRRESTRICTROOTUSERACCESSKEYSsuspended",
        "dlzglobalAWSGRRESTRICTROOTUSERACCESSKEYSworkloads",
        "dlzglobalAWSGRRESTRICTROOTUSERsuspended",
        "dlzglobalAWSGRROOTACCOUNTMFAENABLEDsecurity",
        "dlzglobalAWSGRROOTACCOUNTMFAENABLEDsuspended",
        "dlzglobalAWSGRROOTACCOUNTMFAENABLEDworkloads",
        "dlzglobalAWSGRS3BUCKETPUBLICREADPROHIBITEDsecurity",
        "dlzglobalAWSGRS3BUCKETPUBLICREADPROHIBITEDsuspended",
        "dlzglobalAWSGRS3BUCKETPUBLICREADPROHIBITEDworkloads",
      ],
      "Properties": {
        "ControlIdentifier": "arn:aws:controltower:eu-west-1::control/KRZOMDMWLCLU",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIdentifier": "arn:aws:organizations::882070149987:ou/o-05ev6vk6fa/ou-vh4d-nc2zzf9z",
      },
      "Type": "AWS::ControlTower::EnabledControl",
    },
    "dlzglobalawsssousertestuseraexamplecomcustomResourceResult6016ED08": {
      "DeletionPolicy": "Delete",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "CustomDlzIdentityStoreUserCustomResourceProviderHandlerB083ECF7",
            "Arn",
          ],
        },
        "displayName": "Test A User A",
        "email": {
          "type": "work",
          "value": "testusera@example.com",
        },
        "identityStoreId": "identity-store-id",
        "name": {
          "familyName": "User A",
          "formatted": "Test A User A",
          "givenName": "Test A",
        },
        "userName": "testusera@example.com",
      },
      "Type": "AWS::CloudFormation::CustomResource",
      "UpdateReplacePolicy": "Delete",
    },
    "dlzglobalawsssousertestuserbexamplecomcustomResourceResultA57B7B24": {
      "DeletionPolicy": "Delete",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "CustomDlzIdentityStoreUserCustomResourceProviderHandlerB083ECF7",
            "Arn",
          ],
        },
        "displayName": "Test B User B",
        "email": {
          "type": "work",
          "value": "testuserb@example.com",
        },
        "identityStoreId": "identity-store-id",
        "name": {
          "familyName": "User B",
          "formatted": "Test B User B",
          "givenName": "Test B",
        },
        "userName": "testuserb@example.com",
      },
      "Type": "AWS::CloudFormation::CustomResource",
      "UpdateReplacePolicy": "Delete",
    },
    "dlzglobalawsssousertestusercexamplecomcustomResourceResult69F9E8E1": {
      "DeletionPolicy": "Delete",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "CustomDlzIdentityStoreUserCustomResourceProviderHandlerB083ECF7",
            "Arn",
          ],
        },
        "displayName": "Test C User C",
        "email": {
          "type": "work",
          "value": "testuserc@example.com",
        },
        "identityStoreId": "identity-store-id",
        "name": {
          "familyName": "User C",
          "formatted": "Test C User C",
          "givenName": "Test C",
        },
        "userName": "testuserc@example.com",
      },
      "Type": "AWS::CloudFormation::CustomResource",
      "UpdateReplacePolicy": "Delete",
    },
    "dlzglobalbudgetbackend": {
      "Properties": {
        "Budget": {
          "BudgetLimit": {
            "Amount": 100,
            "Unit": "USD",
          },
          "BudgetName": "backend",
          "BudgetType": "COST",
          "CostFilters": {
            "TagKeyValue": [
              "user:owner$backend",
            ],
          },
          "CostTypes": {
            "IncludeCredit": false,
          },
          "TimeUnit": "MONTHLY",
        },
        "NotificationsWithSubscribers": [
          {
            "Notification": {
              "ComparisonOperator": "GREATER_THAN",
              "NotificationType": "ACTUAL",
              "Threshold": 100,
              "ThresholdType": "PERCENTAGE",
            },
            "Subscribers": [
              {
                "Address": {
                  "Ref": "dlzglobalbudgetbackendtopicCBB89597",
                },
                "SubscriptionType": "SNS",
              },
            ],
          },
          {
            "Notification": {
              "ComparisonOperator": "GREATER_THAN",
              "NotificationType": "FORECASTED",
              "Threshold": 100,
              "ThresholdType": "PERCENTAGE",
            },
            "Subscribers": [
              {
                "Address": {
                  "Ref": "dlzglobalbudgetbackendtopicCBB89597",
                },
                "SubscriptionType": "SNS",
              },
            ],
          },
        ],
      },
      "Type": "AWS::Budgets::Budget",
    },
    "dlzglobalbudgetbackendaccountinginternaldevelopment": {
      "Properties": {
        "Budget": {
          "BudgetLimit": {
            "Amount": 100,
            "Unit": "USD",
          },
          "BudgetName": "backend-accounting-internal-development",
          "BudgetType": "COST",
          "CostFilters": {
            "TagKeyValue": [
              "user:owner$backend",
              "user:project$accounting-internal",
              "user:environment$development",
            ],
          },
          "CostTypes": {
            "IncludeCredit": false,
          },
          "TimeUnit": "MONTHLY",
        },
        "NotificationsWithSubscribers": [
          {
            "Notification": {
              "ComparisonOperator": "GREATER_THAN",
              "NotificationType": "ACTUAL",
              "Threshold": 100,
              "ThresholdType": "PERCENTAGE",
            },
            "Subscribers": [
              {
                "Address": {
                  "Ref": "dlzglobalbudgetbackendaccountinginternaldevelopmenttopicD2857563",
                },
                "SubscriptionType": "SNS",
              },
            ],
          },
          {
            "Notification": {
              "ComparisonOperator": "GREATER_THAN",
              "NotificationType": "FORECASTED",
              "Threshold": 100,
              "ThresholdType": "PERCENTAGE",
            },
            "Subscribers": [
              {
                "Address": {
                  "Ref": "dlzglobalbudgetbackendaccountinginternaldevelopmenttopicD2857563",
                },
                "SubscriptionType": "SNS",
              },
            ],
          },
        ],
      },
      "Type": "AWS::Budgets::Budget",
    },
    "dlzglobalbudgetbackendaccountinginternaldevelopmenttopicD2857563": {
      "Properties": {
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TopicName": "dlz-global-budget-backend-accounting-internal-development-topic",
      },
      "Type": "AWS::SNS::Topic",
    },
    "dlzglobalbudgetbackendaccountinginternaldevelopmenttopicPolicyE8204B79": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "sns:Publish",
              "Effect": "Allow",
              "Principal": {
                "Service": "budgets.amazonaws.com",
              },
              "Resource": {
                "Ref": "dlzglobalbudgetbackendaccountinginternaldevelopmenttopicD2857563",
              },
              "Sid": "0",
            },
          ],
          "Version": "2012-10-17",
        },
        "Topics": [
          {
            "Ref": "dlzglobalbudgetbackendaccountinginternaldevelopmenttopicD2857563",
          },
        ],
      },
      "Type": "AWS::SNS::TopicPolicy",
    },
    "dlzglobalbudgetbackendaccountinginternaldevelopmenttopicrehandcbudgetbackendaccountinginternaldevelopmentdatachefcoB3F5D4B4": {
      "Properties": {
        "Endpoint": "rehan+dc-budget--backend-accounting-internal-development@datachef.co",
        "Protocol": "email",
        "TopicArn": {
          "Ref": "dlzglobalbudgetbackendaccountinginternaldevelopmenttopicD2857563",
        },
      },
      "Type": "AWS::SNS::Subscription",
    },
    "dlzglobalbudgetbackendtopicCBB89597": {
      "Properties": {
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TopicName": "dlz-global-budget-backend-topic",
      },
      "Type": "AWS::SNS::Topic",
    },
    "dlzglobalbudgetbackendtopicPolicy41EFE1AF": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "sns:Publish",
              "Effect": "Allow",
              "Principal": {
                "Service": "budgets.amazonaws.com",
              },
              "Resource": {
                "Ref": "dlzglobalbudgetbackendtopicCBB89597",
              },
              "Sid": "0",
            },
          ],
          "Version": "2012-10-17",
        },
        "Topics": [
          {
            "Ref": "dlzglobalbudgetbackendtopicCBB89597",
          },
        ],
      },
      "Type": "AWS::SNS::TopicPolicy",
    },
    "dlzglobalbudgetbackendtopicrehandcbudgetbackenddatachefcoE8C1F73C": {
      "Properties": {
        "Endpoint": "rehan+dc-budget--backend@datachef.co",
        "Protocol": "email",
        "TopicArn": {
          "Ref": "dlzglobalbudgetbackendtopicCBB89597",
        },
      },
      "Type": "AWS::SNS::Subscription",
    },
    "dlzglobalbudgetinfradlz": {
      "Properties": {
        "Budget": {
          "BudgetLimit": {
            "Amount": 20,
            "Unit": "USD",
          },
          "BudgetName": "infra-dlz",
          "BudgetType": "COST",
          "CostFilters": {
            "TagKeyValue": [
              "user:Owner$infra",
              "user:Project$dlz",
            ],
          },
          "CostTypes": {
            "IncludeCredit": false,
          },
          "TimeUnit": "MONTHLY",
        },
        "NotificationsWithSubscribers": [
          {
            "Notification": {
              "ComparisonOperator": "GREATER_THAN",
              "NotificationType": "ACTUAL",
              "Threshold": 100,
              "ThresholdType": "PERCENTAGE",
            },
            "Subscribers": [
              {
                "Address": {
                  "Ref": "dlzglobalbudgetinfradlztopic0163CD4D",
                },
                "SubscriptionType": "SNS",
              },
            ],
          },
          {
            "Notification": {
              "ComparisonOperator": "GREATER_THAN",
              "NotificationType": "FORECASTED",
              "Threshold": 100,
              "ThresholdType": "PERCENTAGE",
            },
            "Subscribers": [
              {
                "Address": {
                  "Ref": "dlzglobalbudgetinfradlztopic0163CD4D",
                },
                "SubscriptionType": "SNS",
              },
            ],
          },
        ],
      },
      "Type": "AWS::Budgets::Budget",
    },
    "dlzglobalbudgetinfradlztopic0163CD4D": {
      "Properties": {
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TopicName": "dlz-global-budget-infra-dlz-topic",
      },
      "Type": "AWS::SNS::Topic",
    },
    "dlzglobalbudgetinfradlztopicPolicy9D69FF3F": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "sns:Publish",
              "Effect": "Allow",
              "Principal": {
                "Service": "budgets.amazonaws.com",
              },
              "Resource": {
                "Ref": "dlzglobalbudgetinfradlztopic0163CD4D",
              },
              "Sid": "0",
            },
          ],
          "Version": "2012-10-17",
        },
        "Topics": [
          {
            "Ref": "dlzglobalbudgetinfradlztopic0163CD4D",
          },
        ],
      },
      "Type": "AWS::SNS::TopicPolicy",
    },
    "dlzglobalbudgetinfradlztopicrehandcbudgetdefaultsdatachefco455377B3": {
      "Properties": {
        "Endpoint": "rehan+dc-budget--defaults@datachef.co",
        "Protocol": "email",
        "TopicArn": {
          "Ref": "dlzglobalbudgetinfradlztopic0163CD4D",
        },
      },
      "Type": "AWS::SNS::Subscription",
    },
    "dlzglobalbudgetorgtotal": {
      "Properties": {
        "Budget": {
          "BudgetLimit": {
            "Amount": 100,
            "Unit": "USD",
          },
          "BudgetName": "org-total",
          "BudgetType": "COST",
          "CostTypes": {
            "IncludeCredit": false,
          },
          "TimeUnit": "MONTHLY",
        },
        "NotificationsWithSubscribers": [
          {
            "Notification": {
              "ComparisonOperator": "GREATER_THAN",
              "NotificationType": "ACTUAL",
              "Threshold": 100,
              "ThresholdType": "PERCENTAGE",
            },
            "Subscribers": [
              {
                "Address": {
                  "Ref": "dlzglobalbudgetorgtotaltopicDE27DBE5",
                },
                "SubscriptionType": "SNS",
              },
            ],
          },
          {
            "Notification": {
              "ComparisonOperator": "GREATER_THAN",
              "NotificationType": "FORECASTED",
              "Threshold": 100,
              "ThresholdType": "PERCENTAGE",
            },
            "Subscribers": [
              {
                "Address": {
                  "Ref": "dlzglobalbudgetorgtotaltopicDE27DBE5",
                },
                "SubscriptionType": "SNS",
              },
            ],
          },
        ],
      },
      "Type": "AWS::Budgets::Budget",
    },
    "dlzglobalbudgetorgtotaltopicDE27DBE5": {
      "Properties": {
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TopicName": "dlz-global-budget-org-total-topic",
      },
      "Type": "AWS::SNS::Topic",
    },
    "dlzglobalbudgetorgtotaltopicPolicyC31000EF": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "sns:Publish",
              "Effect": "Allow",
              "Principal": {
                "Service": "budgets.amazonaws.com",
              },
              "Resource": {
                "Ref": "dlzglobalbudgetorgtotaltopicDE27DBE5",
              },
              "Sid": "0",
            },
          ],
          "Version": "2012-10-17",
        },
        "Topics": [
          {
            "Ref": "dlzglobalbudgetorgtotaltopicDE27DBE5",
          },
        ],
      },
      "Type": "AWS::SNS::TopicPolicy",
    },
    "dlzglobalbudgetorgtotaltopicrehandcbudgetdefaultsdatachefco6CF0886E": {
      "Properties": {
        "Endpoint": "rehan+dc-budget--defaults@datachef.co",
        "Protocol": "email",
        "TopicArn": {
          "Ref": "dlzglobalbudgetorgtotaltopicDE27DBE5",
        },
      },
      "Type": "AWS::SNS::Subscription",
    },
    "dlzglobaldenyallguardrailpolicies52FB3D35": {
      "Properties": {
        "Description": "Deny all guardrail policies",
        "ManagedPolicyName": "dlz-global-deny-all-guardrail-policies",
        "Path": "/",
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "*",
              "Effect": "Deny",
              "Resource": "*",
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::ManagedPolicy",
    },
    "dlzglobalgithubdeployrole69EF8551": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRoleWithWebIdentity",
              "Condition": {
                "StringEquals": {
                  "token.actions.githubusercontent.com:aud": "sts.amazonaws.com",
                },
                "StringLike": {
                  "token.actions.githubusercontent.com:sub": [
                    "repo:DataChefHQ/recipes_data-landing-zone_data-landing-zone-sandbox:*",
                  ],
                },
              },
              "Effect": "Allow",
              "Principal": {
                "Federated": {
                  "Ref": "dlzglobalgithubproviderEC9DEECC",
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "Description": "This role is used via GitHub Actions to deploy with AWS CDK target AWS account",
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/AdministratorAccess",
              ],
            ],
          },
        ],
        "MaxSessionDuration": 43200,
        "Policies": [
          {
            "PolicyDocument": {
              "Statement": [
                {
                  "Action": [
                    "sts:AssumeRole",
                    "iam:PassRole",
                  ],
                  "Effect": "Allow",
                  "Resource": "arn:aws:iam::*:role/cdk-hnb659fds-",
                },
              ],
              "Version": "2012-10-17",
            },
            "PolicyName": "cdk-assume",
          },
        ],
        "RoleName": "dlz-global-git-hub-deploy-role",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "dlzglobalgithubproviderEC9DEECC": {
      "DeletionPolicy": "Delete",
      "Properties": {
        "ClientIDList": [
          "sts.amazonaws.com",
        ],
        "CodeHash": "977fc1649d2dbcce16e23f6332faef6fa0f48aa74a0afe35f4a3467754e20cd8",
        "ServiceToken": {
          "Fn::GetAtt": [
            "CustomAWSCDKOpenIdConnectProviderCustomResourceProviderHandlerF2C543E0",
            "Arn",
          ],
        },
        "Url": "https://token.actions.githubusercontent.com",
      },
      "Type": "Custom::AWSCDKOpenIdConnectProvider",
      "UpdateReplacePolicy": "Delete",
    },
    "dlzglobalinlinepermissionsetreadonlys3": {
      "Properties": {
        "Description": "Limited get object permission",
        "InlinePolicy": {
          "Action": "s3:GetObject",
          "Effect": "Allow",
          "Resource": "arn:aws:s3:::mybucket/*",
        },
        "InstanceArn": "sso-instance-arn",
        "Name": "inline-permission-set-read-only-s3",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
      },
      "Type": "AWS::SSO::PermissionSet",
    },
    "dlzgloballongerreadonly": {
      "Properties": {
        "Description": "Read only only for 12 hours",
        "InstanceArn": "sso-instance-arn",
        "ManagedPolicies": [
          "arn:aws:iam::aws:policy/ReadOnlyAccess",
        ],
        "Name": "longer-read-only",
        "SessionDuration": "PT12H",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
      },
      "Type": "AWS::SSO::PermissionSet",
    },
    "dlzglobalscpproject1developmentaccount": {
      "Properties": {
        "Content": {
          "Statement": [
            {
              "Action": [
                "eks:*",
                "ecs:*",
              ],
              "Condition": {
                "ArnNotLike": {
                  "aws:PrincipalARN": [
                    "arn:aws:iam::*:role/AWSControlTowerExecution",
                  ],
                },
              },
              "Effect": "Deny",
              "Resource": "*",
              "Sid": "DenyServiceActions",
            },
            {
              "Action": "cloudformation:CreateStack",
              "Condition": {
                "Null": {
                  "aws:RequestTag/Environment": [
                    "dlz",
                    "development",
                    "staging",
                    "production",
                  ],
                  "aws:RequestTag/Owner": [
                    "infra",
                    "backend",
                  ],
                  "aws:RequestTag/Project": [
                    "dlz",
                    "accounting-internal",
                  ],
                },
              },
              "Effect": "Deny",
              "Resource": "*",
              "Sid": "DenyCfnStacksWithoutStandardTags",
            },
          ],
          "Version": "2012-10-17",
        },
        "Description": "SCP statements applied to the project-1-development account",
        "Name": "dlz-global-scp-project-1-development-account",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIds": [
          "381491899779",
        ],
        "Type": "SERVICE_CONTROL_POLICY",
      },
      "Type": "AWS::Organizations::Policy",
    },
    "dlzglobalscpproject1productionaccount": {
      "Properties": {
        "Content": {
          "Statement": [
            {
              "Action": [
                "eks:*",
                "ecs:*",
              ],
              "Condition": {
                "ArnNotLike": {
                  "aws:PrincipalARN": [
                    "arn:aws:iam::*:role/AWSControlTowerExecution",
                  ],
                },
              },
              "Effect": "Deny",
              "Resource": "*",
              "Sid": "DenyServiceActions",
            },
            {
              "Action": "cloudformation:CreateStack",
              "Condition": {
                "Null": {
                  "aws:RequestTag/Environment": [
                    "dlz",
                    "development",
                    "staging",
                    "production",
                  ],
                  "aws:RequestTag/Owner": [
                    "infra",
                    "backend",
                  ],
                  "aws:RequestTag/Project": [
                    "dlz",
                    "accounting-internal",
                  ],
                },
              },
              "Effect": "Deny",
              "Resource": "*",
              "Sid": "DenyCfnStacksWithoutStandardTags",
            },
          ],
          "Version": "2012-10-17",
        },
        "Description": "SCP statements applied to the project-1-production account",
        "Name": "dlz-global-scp-project-1-production-account",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIds": [
          "234567890123",
        ],
        "Type": "SERVICE_CONTROL_POLICY",
      },
      "Type": "AWS::Organizations::Policy",
    },
    "dlzglobalscpsuspendedou": {
      "Properties": {
        "Content": {
          "Statement": [
            {
              "Action": "*",
              "Condition": {
                "ArnNotLike": {
                  "aws:PrincipalARN": [
                    "arn:aws:iam::*:role/AWSControlTowerExecution",
                  ],
                },
              },
              "Effect": "Deny",
              "Resource": "*",
              "Sid": "DenyServiceActions",
            },
          ],
          "Version": "2012-10-17",
        },
        "Description": "SCP statements applied to the suspended OU",
        "Name": "dlz-global-scp-suspended-ou",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIds": [
          "ou-vh4d-rhcmhzsy",
        ],
        "Type": "SERVICE_CONTROL_POLICY",
      },
      "Type": "AWS::Organizations::Policy",
    },
    "dlzglobaltagpolicyproject1developmentaccount": {
      "Properties": {
        "Content": {
          "tags": {
            "Environment": {
              "tag_key": {
                "@@assign": "Environment",
              },
              "tag_value": {
                "@@assign": [
                  "dlz",
                  "development",
                  "staging",
                  "production",
                ],
              },
            },
            "Owner": {
              "tag_key": {
                "@@assign": "Owner",
              },
              "tag_value": {
                "@@assign": [
                  "infra",
                  "backend",
                ],
              },
            },
            "Project": {
              "tag_key": {
                "@@assign": "Project",
              },
              "tag_value": {
                "@@assign": [
                  "dlz",
                  "accounting-internal",
                ],
              },
            },
          },
        },
        "Description": "Tag policy for the project-1-development account",
        "Name": "dlz-global-tag-policy-project-1-development-account",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIds": [
          "381491899779",
        ],
        "Type": "TAG_POLICY",
      },
      "Type": "AWS::Organizations::Policy",
    },
    "dlzglobaltagpolicyproject1productionaccount": {
      "Properties": {
        "Content": {
          "tags": {
            "Environment": {
              "tag_key": {
                "@@assign": "Environment",
              },
              "tag_value": {
                "@@assign": [
                  "dlz",
                  "development",
                  "staging",
                  "production",
                ],
              },
            },
            "Owner": {
              "tag_key": {
                "@@assign": "Owner",
              },
              "tag_value": {
                "@@assign": [
                  "infra",
                  "backend",
                ],
              },
            },
            "Project": {
              "tag_key": {
                "@@assign": "Project",
              },
              "tag_value": {
                "@@assign": [
                  "dlz",
                  "accounting-internal",
                ],
              },
            },
          },
        },
        "Description": "Tag policy for the project-1-production account",
        "Name": "dlz-global-tag-policy-project-1-production-account",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIds": [
          "234567890123",
        ],
        "Type": "TAG_POLICY",
      },
      "Type": "AWS::Organizations::Policy",
    },
    "dlzglobaltagpolicysuspendedou": {
      "Properties": {
        "Content": {
          "tags": {
            "Environment": {
              "tag_key": {
                "@@assign": "Environment",
              },
              "tag_value": {
                "@@assign": [
                  "dlz",
                  "development",
                  "staging",
                  "production",
                ],
              },
            },
            "Owner": {
              "tag_key": {
                "@@assign": "Owner",
              },
              "tag_value": {
                "@@assign": [
                  "infra",
                  "backend",
                ],
              },
            },
            "Project": {
              "tag_key": {
                "@@assign": "Project",
              },
              "tag_value": {
                "@@assign": [
                  "dlz",
                  "accounting-internal",
                ],
              },
            },
          },
        },
        "Description": "Tag policy for the suspended OU",
        "Name": "dlz-global-tag-policy-suspended-ou",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TargetIds": [
          "ou-vh4d-rhcmhzsy",
        ],
        "Type": "TAG_POLICY",
      },
      "Type": "AWS::Organizations::Policy",
    },
  },
  "Rules": {
    "CheckBootstrapVersion": {
      "Assertions": [
        {
          "Assert": {
            "Fn::Not": [
              {
                "Fn::Contains": [
                  [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                  ],
                  {
                    "Ref": "BootstrapVersion",
                  },
                ],
              },
            ],
          },
          "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI.",
        },
      ],
    },
  },
}
`;

exports[`Build Local snapshot testing: workloadGlobalNetworkConnectionsPhase1StacksTemplates snapshot 1`] = `
{
  "Parameters": {
    "BootstrapVersion": {
      "Default": "/cdk-bootstrap/hnb659fds/version",
      "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]",
      "Type": "AWS::SSM::Parameter::Value<String>",
    },
  },
  "Rules": {
    "CheckBootstrapVersion": {
      "Assertions": [
        {
          "Assert": {
            "Fn::Not": [
              {
                "Fn::Contains": [
                  [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                  ],
                  {
                    "Ref": "BootstrapVersion",
                  },
                ],
              },
            ],
          },
          "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI.",
        },
      ],
    },
  },
}
`;

exports[`Build Local snapshot testing: workloadGlobalNetworkConnectionsPhase1StacksTemplates snapshot 2`] = `
{
  "Parameters": {
    "BootstrapVersion": {
      "Default": "/cdk-bootstrap/hnb659fds/version",
      "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]",
      "Type": "AWS::SSM::Parameter::Value<String>",
    },
  },
  "Resources": {
    "dlzncp1globalvpcpeeringrolearn3814918997792345678901237D3EBD52": {
      "Properties": {
        "Name": "/dlz/networking/vpc-peering-role-arn--381491899779-234567890123",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "dlzncp1globalvpcpeeringroleforproject1development4ED81A3A",
            "Arn",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "dlzncp1globalvpcpeeringroleforproject1development4ED81A3A": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "AWS": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::381491899779:root",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "Description": "VPC Peering Role for 'project-1-development' to 'project-1-production'",
        "Policies": [
          {
            "PolicyDocument": {
              "Statement": [
                {
                  "Action": "ec2:AcceptVpcPeeringConnection",
                  "Effect": "Allow",
                  "Resource": "*",
                },
              ],
              "Version": "2012-10-17",
            },
            "PolicyName": "vpc-peering",
          },
        ],
        "RoleName": "dlz-ncp1-global-vpc-peering-role-for-project-1-development",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
  },
  "Rules": {
    "CheckBootstrapVersion": {
      "Assertions": [
        {
          "Assert": {
            "Fn::Not": [
              {
                "Fn::Contains": [
                  [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                  ],
                  {
                    "Ref": "BootstrapVersion",
                  },
                ],
              },
            ],
          },
          "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI.",
        },
      ],
    },
  },
}
`;

exports[`Build Local snapshot testing: workloadGlobalNetworkConnectionsPhase2StacksTemplates snapshot 1`] = `
{
  "Parameters": {
    "BootstrapVersion": {
      "Default": "/cdk-bootstrap/hnb659fds/version",
      "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]",
      "Type": "AWS::SSM::Parameter::Value<String>",
    },
  },
  "Resources": {
    "AWS679f53fac002430cb0da5b7982bd22872D164C4C": {
      "DependsOn": [
        "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2",
      ],
      "Properties": {
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-381491899779-eu-west-1",
          "S3Key": "cb92a348b5b60bcbbe3888108f15e75877121eb402b4a74526927300fcc54975.zip",
        },
        "Handler": "index.handler",
        "Role": {
          "Fn::GetAtt": [
            "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2",
            "Arn",
          ],
        },
        "Runtime": "nodejs18.x",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "Timeout": 120,
      },
      "Type": "AWS::Lambda::Function",
    },
    "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "PeerRoleArn3814918997792345678901235DE30C0F": {
      "DeletionPolicy": "Delete",
      "DependsOn": [
        "PeerRoleArn381491899779234567890123CustomResourcePolicy235FB800",
      ],
      "Properties": {
        "Create": "{"region":"eu-west-1","assumedRoleArn":"arn:aws:iam::234567890123:role/dlz-global-dlz-ssm-cross-account-assume-role","service":"SSM","action":"GetParameter","parameters":{"Name":"/dlz/networking/vpc-peering-role-arn--381491899779-234567890123","WithDecryption":false},"physicalResourceId":{"responsePath":"Parameter.Value"}}",
        "InstallLatestAwsSdk": true,
        "ServiceToken": {
          "Fn::GetAtt": [
            "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
            "Arn",
          ],
        },
        "Update": "{"region":"eu-west-1","assumedRoleArn":"arn:aws:iam::234567890123:role/dlz-global-dlz-ssm-cross-account-assume-role","service":"SSM","action":"GetParameter","parameters":{"Name":"/dlz/networking/vpc-peering-role-arn--381491899779-234567890123","WithDecryption":false},"physicalResourceId":{"responsePath":"Parameter.Value"}}",
      },
      "Type": "Custom::DlzSsmReader",
      "UpdateReplacePolicy": "Delete",
    },
    "PeerRoleArn381491899779234567890123CustomResourcePolicy235FB800": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": "arn:aws:iam::234567890123:role/dlz-global-dlz-ssm-cross-account-assume-role",
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "PeerRoleArn381491899779234567890123CustomResourcePolicy235FB800",
        "Roles": [
          {
            "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "PeerVpcIdproject1developmenteuwest1defaulttoproject1productionuseast1default5B985D2B": {
      "DeletionPolicy": "Delete",
      "DependsOn": [
        "PeerVpcIdproject1developmenteuwest1defaulttoproject1productionuseast1defaultCustomResourcePolicyC2B24E81",
      ],
      "Properties": {
        "Create": "{"region":"us-east-1","assumedRoleArn":"arn:aws:iam::234567890123:role/dlz-global-dlz-ssm-cross-account-assume-role","service":"SSM","action":"GetParameter","parameters":{"Name":"/dlz/networking-entity/vpc/project-1-production.us-east-1.default/id","WithDecryption":false},"physicalResourceId":{"responsePath":"Parameter.Value"}}",
        "InstallLatestAwsSdk": true,
        "ServiceToken": {
          "Fn::GetAtt": [
            "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
            "Arn",
          ],
        },
        "Update": "{"region":"us-east-1","assumedRoleArn":"arn:aws:iam::234567890123:role/dlz-global-dlz-ssm-cross-account-assume-role","service":"SSM","action":"GetParameter","parameters":{"Name":"/dlz/networking-entity/vpc/project-1-production.us-east-1.default/id","WithDecryption":false},"physicalResourceId":{"responsePath":"Parameter.Value"}}",
      },
      "Type": "Custom::DlzSsmReader",
      "UpdateReplacePolicy": "Delete",
    },
    "PeerVpcIdproject1developmenteuwest1defaulttoproject1productionuseast1defaultCustomResourcePolicyC2B24E81": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": "arn:aws:iam::234567890123:role/dlz-global-dlz-ssm-cross-account-assume-role",
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "PeerVpcIdproject1developmenteuwest1defaulttoproject1productionuseast1defaultCustomResourcePolicyC2B24E81",
        "Roles": [
          {
            "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "VpcIdproject1developmenteuwest1defaulttoproject1productionuseast1default2FD2DCA3": {
      "DeletionPolicy": "Delete",
      "DependsOn": [
        "VpcIdproject1developmenteuwest1defaulttoproject1productionuseast1defaultCustomResourcePolicy6BC9964D",
      ],
      "Properties": {
        "Create": "{"region":"eu-west-1","assumedRoleArn":"arn:aws:iam::381491899779:role/dlz-global-dlz-ssm-cross-account-assume-role","service":"SSM","action":"GetParameter","parameters":{"Name":"/dlz/networking-entity/vpc/project-1-development.eu-west-1.default/id","WithDecryption":false},"physicalResourceId":{"responsePath":"Parameter.Value"}}",
        "InstallLatestAwsSdk": true,
        "ServiceToken": {
          "Fn::GetAtt": [
            "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
            "Arn",
          ],
        },
        "Update": "{"region":"eu-west-1","assumedRoleArn":"arn:aws:iam::381491899779:role/dlz-global-dlz-ssm-cross-account-assume-role","service":"SSM","action":"GetParameter","parameters":{"Name":"/dlz/networking-entity/vpc/project-1-development.eu-west-1.default/id","WithDecryption":false},"physicalResourceId":{"responsePath":"Parameter.Value"}}",
      },
      "Type": "Custom::DlzSsmReader",
      "UpdateReplacePolicy": "Delete",
    },
    "VpcIdproject1developmenteuwest1defaulttoproject1productionuseast1defaultCustomResourcePolicy6BC9964D": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": "arn:aws:iam::381491899779:role/dlz-global-dlz-ssm-cross-account-assume-role",
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "VpcIdproject1developmenteuwest1defaulttoproject1productionuseast1defaultCustomResourcePolicy6BC9964D",
        "Roles": [
          {
            "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "dlzncp2globalnetworkentityproject1developmenteuwest1defaultproject1productionuseast1defaultidCB09A218": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-development.eu-west-1.default/peer/project-1-production.us-east-1.default/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "dlzncp2globalvpcpeeringconnectionproject1developmenteuwest1defaulttoproject1productionuseast1default",
            "Id",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "dlzncp2globalvpcpeeringconnectionproject1developmenteuwest1defaulttoproject1productionuseast1default": {
      "Properties": {
        "PeerOwnerId": "234567890123",
        "PeerRegion": "us-east-1",
        "PeerRoleArn": {
          "Fn::GetAtt": [
            "PeerRoleArn3814918997792345678901235DE30C0F",
            "Parameter.Value",
          ],
        },
        "PeerVpcId": {
          "Fn::GetAtt": [
            "PeerVpcIdproject1developmenteuwest1defaulttoproject1productionuseast1default5B985D2B",
            "Parameter.Value",
          ],
        },
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "project-1-development.eu-west-1.default-to-project-1-production.us-east-1.default",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Fn::GetAtt": [
            "VpcIdproject1developmenteuwest1defaulttoproject1productionuseast1default2FD2DCA3",
            "Parameter.Value",
          ],
        },
      },
      "Type": "AWS::EC2::VPCPeeringConnection",
    },
  },
  "Rules": {
    "CheckBootstrapVersion": {
      "Assertions": [
        {
          "Assert": {
            "Fn::Not": [
              {
                "Fn::Contains": [
                  [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                  ],
                  {
                    "Ref": "BootstrapVersion",
                  },
                ],
              },
            ],
          },
          "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI.",
        },
      ],
    },
  },
}
`;

exports[`Build Local snapshot testing: workloadGlobalNetworkConnectionsPhase2StacksTemplates snapshot 2`] = `
{
  "Parameters": {
    "BootstrapVersion": {
      "Default": "/cdk-bootstrap/hnb659fds/version",
      "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]",
      "Type": "AWS::SSM::Parameter::Value<String>",
    },
  },
  "Rules": {
    "CheckBootstrapVersion": {
      "Assertions": [
        {
          "Assert": {
            "Fn::Not": [
              {
                "Fn::Contains": [
                  [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                  ],
                  {
                    "Ref": "BootstrapVersion",
                  },
                ],
              },
            ],
          },
          "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI.",
        },
      ],
    },
  },
}
`;

exports[`Build Local snapshot testing: workloadGlobalNetworkConnectionsPhase3StacksTemplates snapshot 1`] = `
{
  "Parameters": {
    "BootstrapVersion": {
      "Default": "/cdk-bootstrap/hnb659fds/version",
      "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]",
      "Type": "AWS::SSM::Parameter::Value<String>",
    },
  },
  "Resources": {
    "AWS679f53fac002430cb0da5b7982bd22872D164C4C": {
      "DependsOn": [
        "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2",
      ],
      "Properties": {
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-381491899779-eu-west-1",
          "S3Key": "cb92a348b5b60bcbbe3888108f15e75877121eb402b4a74526927300fcc54975.zip",
        },
        "Handler": "index.handler",
        "Role": {
          "Fn::GetAtt": [
            "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2",
            "Arn",
          ],
        },
        "Runtime": "nodejs18.x",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "Timeout": 120,
      },
      "Type": "AWS::Lambda::Function",
    },
    "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "RouteTableIdvpcpeeringroutefromproject1developmenteuwest1defaultprivatetoproject1productionuseast1defaultprivate1020019C7D166C1": {
      "DeletionPolicy": "Delete",
      "DependsOn": [
        "RouteTableIdvpcpeeringroutefromproject1developmenteuwest1defaultprivatetoproject1productionuseast1defaultprivate1020019CustomResourcePolicy6F285034",
      ],
      "Properties": {
        "Create": "{"region":"eu-west-1","assumedRoleArn":"arn:aws:iam::381491899779:role/dlz-global-dlz-ssm-cross-account-assume-role","service":"SSM","action":"GetParameter","parameters":{"Name":"/dlz/networking-entity/vpc/project-1-development.eu-west-1.default.private/id","WithDecryption":false},"physicalResourceId":{"responsePath":"Parameter.Value"}}",
        "InstallLatestAwsSdk": true,
        "ServiceToken": {
          "Fn::GetAtt": [
            "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
            "Arn",
          ],
        },
        "Update": "{"region":"eu-west-1","assumedRoleArn":"arn:aws:iam::381491899779:role/dlz-global-dlz-ssm-cross-account-assume-role","service":"SSM","action":"GetParameter","parameters":{"Name":"/dlz/networking-entity/vpc/project-1-development.eu-west-1.default.private/id","WithDecryption":false},"physicalResourceId":{"responsePath":"Parameter.Value"}}",
      },
      "Type": "Custom::DlzSsmReader",
      "UpdateReplacePolicy": "Delete",
    },
    "RouteTableIdvpcpeeringroutefromproject1developmenteuwest1defaultprivatetoproject1productionuseast1defaultprivate1020019CustomResourcePolicy6F285034": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": "arn:aws:iam::381491899779:role/dlz-global-dlz-ssm-cross-account-assume-role",
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ingroutefromproject1developmenteuwest1defaultprivatetoproject1productionuseast1defaultprivate1020019CustomResourcePolicy6F285034",
        "Roles": [
          {
            "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "VpcPeeringConnectionIdproject1developmenteuwest1defaultproject1productionuseast1defaultCustomResourcePolicyE66D1765": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": "arn:aws:iam::381491899779:role/dlz-global-dlz-ssm-cross-account-assume-role",
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "VpcPeeringConnectionIdproject1developmenteuwest1defaultproject1productionuseast1defaultCustomResourcePolicyE66D1765",
        "Roles": [
          {
            "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "VpcPeeringConnectionIdproject1developmenteuwest1defaultproject1productionuseast1defaultD15D6514": {
      "DeletionPolicy": "Delete",
      "DependsOn": [
        "VpcPeeringConnectionIdproject1developmenteuwest1defaultproject1productionuseast1defaultCustomResourcePolicyE66D1765",
      ],
      "Properties": {
        "Create": "{"region":"eu-west-1","assumedRoleArn":"arn:aws:iam::381491899779:role/dlz-global-dlz-ssm-cross-account-assume-role","service":"SSM","action":"GetParameter","parameters":{"Name":"/dlz/networking-entity/vpc/project-1-development.eu-west-1.default/peer/project-1-production.us-east-1.default/id","WithDecryption":false},"physicalResourceId":{"responsePath":"Parameter.Value"}}",
        "InstallLatestAwsSdk": true,
        "ServiceToken": {
          "Fn::GetAtt": [
            "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
            "Arn",
          ],
        },
        "Update": "{"region":"eu-west-1","assumedRoleArn":"arn:aws:iam::381491899779:role/dlz-global-dlz-ssm-cross-account-assume-role","service":"SSM","action":"GetParameter","parameters":{"Name":"/dlz/networking-entity/vpc/project-1-development.eu-west-1.default/peer/project-1-production.us-east-1.default/id","WithDecryption":false},"physicalResourceId":{"responsePath":"Parameter.Value"}}",
      },
      "Type": "Custom::DlzSsmReader",
      "UpdateReplacePolicy": "Delete",
    },
    "dlzncp3globalvpcpeeringroutefromproject1developmenteuwest1defaultprivatetoproject1productionuseast1defaultprivate1020019": {
      "Properties": {
        "DestinationCidrBlock": "10.2.0.0/19",
        "RouteTableId": {
          "Fn::GetAtt": [
            "RouteTableIdvpcpeeringroutefromproject1developmenteuwest1defaultprivatetoproject1productionuseast1defaultprivate1020019C7D166C1",
            "Parameter.Value",
          ],
        },
        "VpcPeeringConnectionId": {
          "Fn::GetAtt": [
            "VpcPeeringConnectionIdproject1developmenteuwest1defaultproject1productionuseast1defaultD15D6514",
            "Parameter.Value",
          ],
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "dlzncp3globalvpcpeeringroutefromproject1developmenteuwest1defaultprivatetoproject1productionuseast1defaultprivate10232019": {
      "Properties": {
        "DestinationCidrBlock": "10.2.32.0/19",
        "RouteTableId": {
          "Fn::GetAtt": [
            "RouteTableIdvpcpeeringroutefromproject1developmenteuwest1defaultprivatetoproject1productionuseast1defaultprivate1020019C7D166C1",
            "Parameter.Value",
          ],
        },
        "VpcPeeringConnectionId": {
          "Fn::GetAtt": [
            "VpcPeeringConnectionIdproject1developmenteuwest1defaultproject1productionuseast1defaultD15D6514",
            "Parameter.Value",
          ],
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "dlzncp3globalvpcpeeringroutefromproject1developmenteuwest1defaultprivatetoproject1productionuseast1defaultprivate10264019": {
      "Properties": {
        "DestinationCidrBlock": "10.2.64.0/19",
        "RouteTableId": {
          "Fn::GetAtt": [
            "RouteTableIdvpcpeeringroutefromproject1developmenteuwest1defaultprivatetoproject1productionuseast1defaultprivate1020019C7D166C1",
            "Parameter.Value",
          ],
        },
        "VpcPeeringConnectionId": {
          "Fn::GetAtt": [
            "VpcPeeringConnectionIdproject1developmenteuwest1defaultproject1productionuseast1defaultD15D6514",
            "Parameter.Value",
          ],
        },
      },
      "Type": "AWS::EC2::Route",
    },
  },
  "Rules": {
    "CheckBootstrapVersion": {
      "Assertions": [
        {
          "Assert": {
            "Fn::Not": [
              {
                "Fn::Contains": [
                  [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                  ],
                  {
                    "Ref": "BootstrapVersion",
                  },
                ],
              },
            ],
          },
          "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI.",
        },
      ],
    },
  },
}
`;

exports[`Build Local snapshot testing: workloadGlobalNetworkConnectionsPhase3StacksTemplates snapshot 2`] = `
{
  "Parameters": {
    "BootstrapVersion": {
      "Default": "/cdk-bootstrap/hnb659fds/version",
      "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]",
      "Type": "AWS::SSM::Parameter::Value<String>",
    },
  },
  "Rules": {
    "CheckBootstrapVersion": {
      "Assertions": [
        {
          "Assert": {
            "Fn::Not": [
              {
                "Fn::Contains": [
                  [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                  ],
                  {
                    "Ref": "BootstrapVersion",
                  },
                ],
              },
            ],
          },
          "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI.",
        },
      ],
    },
  },
}
`;

exports[`Build Local snapshot testing: workloadGlobalStacksTemplates snapshot 1`] = `
{
  "Parameters": {
    "BootstrapVersion": {
      "Default": "/cdk-bootstrap/hnb659fds/version",
      "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]",
      "Type": "AWS::SSM::Parameter::Value<String>",
    },
    "SsmParameterValueawsserviceamiamazonlinuxlatestal2023amikernel61x8664C96584B6F00A464EAD1953AFF4B05118Parameter": {
      "Default": "/aws/service/ami-amazon-linux-latest/al2023-ami-kernel-6.1-x86_64",
      "Type": "AWS::SSM::Parameter::Value<AWS::EC2::Image::Id>",
    },
  },
  "Resources": {
    "dlzglobaldefaultnotification381491899779notificationid4DC830AB": {
      "Properties": {
        "Name": "/dlzdefault-notification/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Ref": "dlzglobaldefaultnotification381491899779topicC965E76F",
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "dlzglobaldefaultnotification381491899779topicC965E76F": {
      "Properties": {
        "DisplayName": "dlz-global-default-notification-381491899779-topic",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TopicName": "dlz-global-default-notification-381491899779-topic",
      },
      "Type": "AWS::SNS::Topic",
    },
    "dlzglobaldlzconfigrequiredtags5C8C14DF": {
      "Properties": {
        "ConfigRuleName": "dlz-global-dlz-config-required-tags",
        "InputParameters": {
          "tag1Key": "Owner",
          "tag1Value": "infra,backend",
          "tag2Key": "Project",
          "tag2Value": "dlz,accounting-internal",
          "tag3Key": "Environment",
          "tag3Value": "dlz,development,staging,production",
        },
        "Source": {
          "Owner": "AWS",
          "SourceIdentifier": "REQUIRED_TAGS",
        },
      },
      "Type": "AWS::Config::ConfigRule",
    },
    "dlzglobaldlzssmcrossaccountassumerole144F4F2E": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Condition": {
                "StringEquals": {
                  "aws:PrincipalOrgID": "o-05ev6vk6fa",
                },
              },
              "Effect": "Allow",
              "Principal": {
                "AWS": "*",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "Description": "Role to be assumed by other accounts to read SSM parameters im this account",
        "Policies": [
          {
            "PolicyDocument": {
              "Statement": [
                {
                  "Action": "ssm:GetParameter",
                  "Effect": "Allow",
                  "Resource": "arn:aws:ssm:*:381491899779:parameter/dlz*",
                },
              ],
              "Version": "2012-10-17",
            },
            "PolicyName": "ssmRead",
          },
        ],
        "RoleName": "dlz-global-dlz-ssm-cross-account-assume-role",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "vpcdefault": {
      "Properties": {
        "CidrBlock": "10.1.0.0/16",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-default",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
      },
      "Type": "AWS::EC2::VPC",
    },
    "vpcigwattachment": {
      "Properties": {
        "InternetGatewayId": {
          "Ref": "vpcigwvpcdefault",
        },
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::VPCGatewayAttachment",
    },
    "vpcigwvpcdefault": {
      "Properties": {
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-igw-vpc-default",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
      },
      "Type": "AWS::EC2::InternetGateway",
    },
    "vpcnetworkentityproject1developmenteuwest1defaultid39FF6FC3": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-development.eu-west-1.default/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcdefault",
            "VpcId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1developmenteuwest1defaultprivate5B951628": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-development.eu-west-1.default.private/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcprivate",
            "RouteTableId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1developmenteuwest1defaultprivateprivate1idDED9A18C": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-development.eu-west-1.default.private.private-1/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcprivate1",
            "SubnetId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1developmenteuwest1defaultprivateprivate2idC629F248": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-development.eu-west-1.default.private.private-2/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcprivate2",
            "SubnetId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1developmenteuwest1defaultprivateprivate3id1B569FDF": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-development.eu-west-1.default.private.private-3/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcprivate3",
            "SubnetId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1developmenteuwest1defaultpublic3A3F6E7B": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-development.eu-west-1.default.public/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcpublic",
            "RouteTableId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1developmenteuwest1defaultpublicpublic1id606088C6": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-development.eu-west-1.default.public.public-1/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcpublic1",
            "SubnetId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1developmenteuwest1defaultpublicpublic2idE3F788E5": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-development.eu-west-1.default.public.public-2/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcpublic2",
            "SubnetId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1developmenteuwest1defaultpublicpublic3id04EA1902": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-development.eu-west-1.default.public.public-3/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcpublic3",
            "SubnetId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcprivate": {
      "Properties": {
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-private",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "vpcprivate1": {
      "Properties": {
        "AvailabilityZone": "us-east-1a",
        "CidrBlock": "10.1.0.1/19",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-private-1",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "vpcprivate1association": {
      "Properties": {
        "RouteTableId": {
          "Ref": "vpcprivate",
        },
        "SubnetId": {
          "Ref": "vpcprivate1",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "vpcprivate2": {
      "Properties": {
        "AvailabilityZone": "us-east-1b",
        "CidrBlock": "10.1.32.0/19",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-private-2",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "vpcprivate2association": {
      "Properties": {
        "RouteTableId": {
          "Ref": "vpcprivate",
        },
        "SubnetId": {
          "Ref": "vpcprivate2",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "vpcprivate3": {
      "Properties": {
        "AvailabilityZone": "us-east-1c",
        "CidrBlock": "10.1.64.0/19",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-private-3",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "vpcprivate3association": {
      "Properties": {
        "RouteTableId": {
          "Ref": "vpcprivate",
        },
        "SubnetId": {
          "Ref": "vpcprivate3",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "vpcproject1developmenteuwest1internetaccessnati": {
      "DependsOn": [
        "vpcigwattachment",
        "vpcigwvpcdefault",
      ],
      "Properties": {
        "ImageId": {
          "Ref": "SsmParameterValueawsserviceamiamazonlinuxlatestal2023amikernel61x8664C96584B6F00A464EAD1953AFF4B05118Parameter",
        },
        "InstanceType": "t3.micro",
        "NetworkInterfaces": [
          {
            "AssociatePublicIpAddress": true,
            "DeviceIndex": "0",
            "GroupSet": [
              {
                "Fn::GetAtt": [
                  "vpcproject1developmenteuwest1internetaccessnatisg",
                  "GroupId",
                ],
              },
            ],
            "SubnetId": {
              "Fn::GetAtt": [
                "vpcpublic1",
                "SubnetId",
              ],
            },
          },
        ],
        "SourceDestCheck": false,
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-project-1-development-eu-west-1-internet-access-nati",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "UserData": {
          "Fn::Base64": "#!/bin/bash
yum install iptables-services -y
systemctl enable iptables
systemctl start iptables
echo "net.ipv4.ip_forward=1" > /etc/sysctl.d/custom-ip-forwarding.conf
sudo sysctl -p /etc/sysctl.d/custom-ip-forwarding.conf
sudo /sbin/iptables -t nat -A POSTROUTING -o $(route | awk '/^default/{print $NF}') -j MASQUERADE
sudo /sbin/iptables -F FORWARD
sudo service iptables save",
        },
      },
      "Type": "AWS::EC2::Instance",
    },
    "vpcproject1developmenteuwest1internetaccessnatieip": {
      "Properties": {
        "Domain": "vpc",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-project-1-development-eu-west-1-internet-access-nati-eip",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
      },
      "Type": "AWS::EC2::EIP",
    },
    "vpcproject1developmenteuwest1internetaccessnatieipassoc": {
      "DependsOn": [
        "vpcproject1developmenteuwest1internetaccessnati",
        "vpcproject1developmenteuwest1internetaccessnatieip",
      ],
      "Properties": {
        "AllocationId": {
          "Fn::GetAtt": [
            "vpcproject1developmenteuwest1internetaccessnatieip",
            "AllocationId",
          ],
        },
        "InstanceId": {
          "Ref": "vpcproject1developmenteuwest1internetaccessnati",
        },
      },
      "Type": "AWS::EC2::EIPAssociation",
    },
    "vpcproject1developmenteuwest1internetaccessnatirouteigw": {
      "DependsOn": [
        "vpcigwattachment",
        "vpcigwvpcdefault",
      ],
      "Properties": {
        "DestinationCidrBlock": "0.0.0.0/0",
        "GatewayId": {
          "Fn::GetAtt": [
            "vpcigwvpcdefault",
            "InternetGatewayId",
          ],
        },
        "RouteTableId": {
          "Ref": "vpcpublic",
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "vpcproject1developmenteuwest1internetaccessnatirouteprivate": {
      "DependsOn": [
        "vpcproject1developmenteuwest1internetaccessnati",
      ],
      "Properties": {
        "DestinationCidrBlock": "0.0.0.0/0",
        "InstanceId": {
          "Ref": "vpcproject1developmenteuwest1internetaccessnati",
        },
        "RouteTableId": {
          "Ref": "vpcprivate",
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "vpcproject1developmenteuwest1internetaccessnatisg": {
      "Properties": {
        "GroupDescription": "Security group for NAT instance project-1-development-eu-west-1-internet-access",
        "SecurityGroupIngress": [
          {
            "CidrIp": "0.0.0.0/0",
            "FromPort": 0,
            "IpProtocol": "tcp",
            "ToPort": 65535,
          },
        ],
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Fn::GetAtt": [
            "vpcdefault",
            "VpcId",
          ],
        },
      },
      "Type": "AWS::EC2::SecurityGroup",
    },
    "vpcpublic": {
      "Properties": {
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-public",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "vpcpublic1": {
      "Properties": {
        "AvailabilityZone": "us-east-1a",
        "CidrBlock": "10.1.96.0/19",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-public-1",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "vpcpublic1association": {
      "Properties": {
        "RouteTableId": {
          "Ref": "vpcpublic",
        },
        "SubnetId": {
          "Ref": "vpcpublic1",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "vpcpublic2": {
      "Properties": {
        "AvailabilityZone": "us-east-1a",
        "CidrBlock": "10.1.128.0/19",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-public-2",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "vpcpublic2association": {
      "Properties": {
        "RouteTableId": {
          "Ref": "vpcpublic",
        },
        "SubnetId": {
          "Ref": "vpcpublic2",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "vpcpublic3": {
      "Properties": {
        "AvailabilityZone": "us-east-1a",
        "CidrBlock": "10.1.160.0/19",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-public-3",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "vpcpublic3association": {
      "Properties": {
        "RouteTableId": {
          "Ref": "vpcpublic",
        },
        "SubnetId": {
          "Ref": "vpcpublic3",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
  },
  "Rules": {
    "CheckBootstrapVersion": {
      "Assertions": [
        {
          "Assert": {
            "Fn::Not": [
              {
                "Fn::Contains": [
                  [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                  ],
                  {
                    "Ref": "BootstrapVersion",
                  },
                ],
              },
            ],
          },
          "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI.",
        },
      ],
    },
  },
}
`;

exports[`Build Local snapshot testing: workloadGlobalStacksTemplates snapshot 2`] = `
{
  "Parameters": {
    "BootstrapVersion": {
      "Default": "/cdk-bootstrap/hnb659fds/version",
      "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]",
      "Type": "AWS::SSM::Parameter::Value<String>",
    },
  },
  "Resources": {
    "dlzglobaldefaultnotification234567890123notificationid1CF9424B": {
      "Properties": {
        "Name": "/dlzdefault-notification/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Ref": "dlzglobaldefaultnotification234567890123topicF66A74F3",
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "dlzglobaldefaultnotification234567890123topicF66A74F3": {
      "Properties": {
        "DisplayName": "dlz-global-default-notification-234567890123-topic",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "TopicName": "dlz-global-default-notification-234567890123-topic",
      },
      "Type": "AWS::SNS::Topic",
    },
    "dlzglobaldlzconfigrequiredtags5C8C14DF": {
      "Properties": {
        "ConfigRuleName": "dlz-global-dlz-config-required-tags",
        "InputParameters": {
          "tag1Key": "Owner",
          "tag1Value": "infra,backend",
          "tag2Key": "Project",
          "tag2Value": "dlz,accounting-internal",
          "tag3Key": "Environment",
          "tag3Value": "dlz,development,staging,production",
        },
        "Source": {
          "Owner": "AWS",
          "SourceIdentifier": "REQUIRED_TAGS",
        },
      },
      "Type": "AWS::Config::ConfigRule",
    },
    "dlzglobaldlzssmcrossaccountassumerole144F4F2E": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Condition": {
                "StringEquals": {
                  "aws:PrincipalOrgID": "o-05ev6vk6fa",
                },
              },
              "Effect": "Allow",
              "Principal": {
                "AWS": "*",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "Description": "Role to be assumed by other accounts to read SSM parameters im this account",
        "Policies": [
          {
            "PolicyDocument": {
              "Statement": [
                {
                  "Action": "ssm:GetParameter",
                  "Effect": "Allow",
                  "Resource": "arn:aws:ssm:*:234567890123:parameter/dlz*",
                },
              ],
              "Version": "2012-10-17",
            },
            "PolicyName": "ssmRead",
          },
        ],
        "RoleName": "dlz-global-dlz-ssm-cross-account-assume-role",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "vpcdefault": {
      "Properties": {
        "CidrBlock": "10.3.0.0/16",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-default",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
      },
      "Type": "AWS::EC2::VPC",
    },
    "vpcigwattachment": {
      "Properties": {
        "InternetGatewayId": {
          "Ref": "vpcigwvpcdefault",
        },
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::VPCGatewayAttachment",
    },
    "vpcigwvpcdefault": {
      "Properties": {
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-igw-vpc-default",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
      },
      "Type": "AWS::EC2::InternetGateway",
    },
    "vpcnetworkentityproject1productioneuwest1defaultidCFDE9414": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-production.eu-west-1.default/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcdefault",
            "VpcId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1productioneuwest1defaultprivate898EB0BD": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-production.eu-west-1.default.private/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcprivate",
            "RouteTableId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1productioneuwest1defaultprivateprivate1id78020DA0": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-production.eu-west-1.default.private.private-1/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcprivate1",
            "SubnetId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1productioneuwest1defaultprivateprivate2idAFE946BF": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-production.eu-west-1.default.private.private-2/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcprivate2",
            "SubnetId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1productioneuwest1defaultprivateprivate3id1C88FB31": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-production.eu-west-1.default.private.private-3/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcprivate3",
            "SubnetId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1productioneuwest1defaultpublic3D9D24EE": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-production.eu-west-1.default.public/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcpublic",
            "RouteTableId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1productioneuwest1defaultpublicpublic1id1D6305BC": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-production.eu-west-1.default.public.public-1/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcpublic1",
            "SubnetId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1productioneuwest1defaultpublicpublic2idC0ADF2BE": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-production.eu-west-1.default.public.public-2/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcpublic2",
            "SubnetId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1productioneuwest1defaultpublicpublic3id31AC3BE9": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-production.eu-west-1.default.public.public-3/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcpublic3",
            "SubnetId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcprivate": {
      "Properties": {
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-private",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "vpcprivate1": {
      "Properties": {
        "AvailabilityZone": "us-east-1a",
        "CidrBlock": "10.3.0.1/19",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-private-1",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "vpcprivate1association": {
      "Properties": {
        "RouteTableId": {
          "Ref": "vpcprivate",
        },
        "SubnetId": {
          "Ref": "vpcprivate1",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "vpcprivate2": {
      "Properties": {
        "AvailabilityZone": "us-east-1b",
        "CidrBlock": "10.3.32.0/19",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-private-2",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "vpcprivate2association": {
      "Properties": {
        "RouteTableId": {
          "Ref": "vpcprivate",
        },
        "SubnetId": {
          "Ref": "vpcprivate2",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "vpcprivate3": {
      "Properties": {
        "AvailabilityZone": "us-east-1c",
        "CidrBlock": "10.3.64.0/19",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-private-3",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "vpcprivate3association": {
      "Properties": {
        "RouteTableId": {
          "Ref": "vpcprivate",
        },
        "SubnetId": {
          "Ref": "vpcprivate3",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "vpcproject1productioneuwest1internetaccessnat": {
      "DependsOn": [
        "vpcigwattachment",
        "vpcigwvpcdefault",
        "vpcproject1productioneuwest1internetaccessnateip",
      ],
      "Properties": {
        "AllocationId": {
          "Fn::GetAtt": [
            "vpcproject1productioneuwest1internetaccessnateip",
            "AllocationId",
          ],
        },
        "SubnetId": {
          "Fn::GetAtt": [
            "vpcpublic1",
            "SubnetId",
          ],
        },
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-project-1-production-eu-west-1-internet-access-nat",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
      },
      "Type": "AWS::EC2::NatGateway",
    },
    "vpcproject1productioneuwest1internetaccessnateip": {
      "Properties": {
        "Domain": "vpc",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-project-1-production-eu-west-1-internet-access-nat-eip",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
      },
      "Type": "AWS::EC2::EIP",
    },
    "vpcproject1productioneuwest1internetaccessnatrouteigw": {
      "DependsOn": [
        "vpcigwattachment",
        "vpcigwvpcdefault",
      ],
      "Properties": {
        "DestinationCidrBlock": "0.0.0.0/0",
        "GatewayId": {
          "Fn::GetAtt": [
            "vpcigwvpcdefault",
            "InternetGatewayId",
          ],
        },
        "RouteTableId": {
          "Ref": "vpcpublic",
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "vpcproject1productioneuwest1internetaccessnatrouteprivate": {
      "DependsOn": [
        "vpcproject1productioneuwest1internetaccessnat",
      ],
      "Properties": {
        "DestinationCidrBlock": "0.0.0.0/0",
        "NatGatewayId": {
          "Ref": "vpcproject1productioneuwest1internetaccessnat",
        },
        "RouteTableId": {
          "Ref": "vpcprivate",
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "vpcpublic": {
      "Properties": {
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-public",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "vpcpublic1": {
      "Properties": {
        "AvailabilityZone": "us-east-1a",
        "CidrBlock": "10.3.96.0/19",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-public-1",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "vpcpublic1association": {
      "Properties": {
        "RouteTableId": {
          "Ref": "vpcpublic",
        },
        "SubnetId": {
          "Ref": "vpcpublic1",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "vpcpublic2": {
      "Properties": {
        "AvailabilityZone": "us-east-1a",
        "CidrBlock": "10.3.128.0/19",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-public-2",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "vpcpublic2association": {
      "Properties": {
        "RouteTableId": {
          "Ref": "vpcpublic",
        },
        "SubnetId": {
          "Ref": "vpcpublic2",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "vpcpublic3": {
      "Properties": {
        "AvailabilityZone": "us-east-1a",
        "CidrBlock": "10.3.160.0/19",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-public-3",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "vpcpublic3association": {
      "Properties": {
        "RouteTableId": {
          "Ref": "vpcpublic",
        },
        "SubnetId": {
          "Ref": "vpcpublic3",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
  },
  "Rules": {
    "CheckBootstrapVersion": {
      "Assertions": [
        {
          "Assert": {
            "Fn::Not": [
              {
                "Fn::Contains": [
                  [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                  ],
                  {
                    "Ref": "BootstrapVersion",
                  },
                ],
              },
            ],
          },
          "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI.",
        },
      ],
    },
  },
}
`;

exports[`Build Local snapshot testing: workloadRegionalNetworkConnectionsPhase2StacksTemplates snapshot 1`] = `
{
  "Parameters": {
    "BootstrapVersion": {
      "Default": "/cdk-bootstrap/hnb659fds/version",
      "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]",
      "Type": "AWS::SSM::Parameter::Value<String>",
    },
  },
  "Rules": {
    "CheckBootstrapVersion": {
      "Assertions": [
        {
          "Assert": {
            "Fn::Not": [
              {
                "Fn::Contains": [
                  [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                  ],
                  {
                    "Ref": "BootstrapVersion",
                  },
                ],
              },
            ],
          },
          "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI.",
        },
      ],
    },
  },
}
`;

exports[`Build Local snapshot testing: workloadRegionalNetworkConnectionsPhase2StacksTemplates snapshot 2`] = `
{
  "Parameters": {
    "BootstrapVersion": {
      "Default": "/cdk-bootstrap/hnb659fds/version",
      "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]",
      "Type": "AWS::SSM::Parameter::Value<String>",
    },
  },
  "Rules": {
    "CheckBootstrapVersion": {
      "Assertions": [
        {
          "Assert": {
            "Fn::Not": [
              {
                "Fn::Contains": [
                  [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                  ],
                  {
                    "Ref": "BootstrapVersion",
                  },
                ],
              },
            ],
          },
          "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI.",
        },
      ],
    },
  },
}
`;

exports[`Build Local snapshot testing: workloadRegionalNetworkConnectionsPhase3StacksTemplates snapshot 1`] = `
{
  "Parameters": {
    "BootstrapVersion": {
      "Default": "/cdk-bootstrap/hnb659fds/version",
      "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]",
      "Type": "AWS::SSM::Parameter::Value<String>",
    },
  },
  "Rules": {
    "CheckBootstrapVersion": {
      "Assertions": [
        {
          "Assert": {
            "Fn::Not": [
              {
                "Fn::Contains": [
                  [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                  ],
                  {
                    "Ref": "BootstrapVersion",
                  },
                ],
              },
            ],
          },
          "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI.",
        },
      ],
    },
  },
}
`;

exports[`Build Local snapshot testing: workloadRegionalNetworkConnectionsPhase3StacksTemplates snapshot 2`] = `
{
  "Parameters": {
    "BootstrapVersion": {
      "Default": "/cdk-bootstrap/hnb659fds/version",
      "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]",
      "Type": "AWS::SSM::Parameter::Value<String>",
    },
  },
  "Resources": {
    "AWS679f53fac002430cb0da5b7982bd22872D164C4C": {
      "DependsOn": [
        "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2",
      ],
      "Properties": {
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-234567890123-us-east-1",
          "S3Key": "cb92a348b5b60bcbbe3888108f15e75877121eb402b4a74526927300fcc54975.zip",
        },
        "Handler": "index.handler",
        "Role": {
          "Fn::GetAtt": [
            "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2",
            "Arn",
          ],
        },
        "Runtime": "nodejs18.x",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "Timeout": 120,
      },
      "Type": "AWS::Lambda::Function",
    },
    "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "RouteTableIdvpcpeeringroutefromproject1productionuseast1defaultprivatetoproject1developmenteuwest1defaultprivate10101197B604DF1": {
      "DeletionPolicy": "Delete",
      "DependsOn": [
        "RouteTableIdvpcpeeringroutefromproject1productionuseast1defaultprivatetoproject1developmenteuwest1defaultprivate1010119CustomResourcePolicyC14DC839",
      ],
      "Properties": {
        "Create": "{"region":"us-east-1","assumedRoleArn":"arn:aws:iam::234567890123:role/dlz-global-dlz-ssm-cross-account-assume-role","service":"SSM","action":"GetParameter","parameters":{"Name":"/dlz/networking-entity/vpc/project-1-production.us-east-1.default.private/id","WithDecryption":false},"physicalResourceId":{"responsePath":"Parameter.Value"}}",
        "InstallLatestAwsSdk": true,
        "ServiceToken": {
          "Fn::GetAtt": [
            "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
            "Arn",
          ],
        },
        "Update": "{"region":"us-east-1","assumedRoleArn":"arn:aws:iam::234567890123:role/dlz-global-dlz-ssm-cross-account-assume-role","service":"SSM","action":"GetParameter","parameters":{"Name":"/dlz/networking-entity/vpc/project-1-production.us-east-1.default.private/id","WithDecryption":false},"physicalResourceId":{"responsePath":"Parameter.Value"}}",
      },
      "Type": "Custom::DlzSsmReader",
      "UpdateReplacePolicy": "Delete",
    },
    "RouteTableIdvpcpeeringroutefromproject1productionuseast1defaultprivatetoproject1developmenteuwest1defaultprivate1010119CustomResourcePolicyC14DC839": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": "arn:aws:iam::234567890123:role/dlz-global-dlz-ssm-cross-account-assume-role",
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ingroutefromproject1productionuseast1defaultprivatetoproject1developmenteuwest1defaultprivate1010119CustomResourcePolicyC14DC839",
        "Roles": [
          {
            "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "VpcPeeringConnectionIdproject1developmenteuwest1defaultproject1productionuseast1defaultCustomResourcePolicyE66D1765": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": "arn:aws:iam::381491899779:role/dlz-global-dlz-ssm-cross-account-assume-role",
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "VpcPeeringConnectionIdproject1developmenteuwest1defaultproject1productionuseast1defaultCustomResourcePolicyE66D1765",
        "Roles": [
          {
            "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "VpcPeeringConnectionIdproject1developmenteuwest1defaultproject1productionuseast1defaultD15D6514": {
      "DeletionPolicy": "Delete",
      "DependsOn": [
        "VpcPeeringConnectionIdproject1developmenteuwest1defaultproject1productionuseast1defaultCustomResourcePolicyE66D1765",
      ],
      "Properties": {
        "Create": "{"region":"eu-west-1","assumedRoleArn":"arn:aws:iam::381491899779:role/dlz-global-dlz-ssm-cross-account-assume-role","service":"SSM","action":"GetParameter","parameters":{"Name":"/dlz/networking-entity/vpc/project-1-development.eu-west-1.default/peer/project-1-production.us-east-1.default/id","WithDecryption":false},"physicalResourceId":{"responsePath":"Parameter.Value"}}",
        "InstallLatestAwsSdk": true,
        "ServiceToken": {
          "Fn::GetAtt": [
            "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
            "Arn",
          ],
        },
        "Update": "{"region":"eu-west-1","assumedRoleArn":"arn:aws:iam::381491899779:role/dlz-global-dlz-ssm-cross-account-assume-role","service":"SSM","action":"GetParameter","parameters":{"Name":"/dlz/networking-entity/vpc/project-1-development.eu-west-1.default/peer/project-1-production.us-east-1.default/id","WithDecryption":false},"physicalResourceId":{"responsePath":"Parameter.Value"}}",
      },
      "Type": "Custom::DlzSsmReader",
      "UpdateReplacePolicy": "Delete",
    },
    "dlzncp3regionalvpcpeeringroutefromproject1productionuseast1defaultprivatetoproject1developmenteuwest1defaultprivate1010119": {
      "Properties": {
        "DestinationCidrBlock": "10.1.0.1/19",
        "RouteTableId": {
          "Fn::GetAtt": [
            "RouteTableIdvpcpeeringroutefromproject1productionuseast1defaultprivatetoproject1developmenteuwest1defaultprivate10101197B604DF1",
            "Parameter.Value",
          ],
        },
        "VpcPeeringConnectionId": {
          "Fn::GetAtt": [
            "VpcPeeringConnectionIdproject1developmenteuwest1defaultproject1productionuseast1defaultD15D6514",
            "Parameter.Value",
          ],
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "dlzncp3regionalvpcpeeringroutefromproject1productionuseast1defaultprivatetoproject1developmenteuwest1defaultprivate10132019": {
      "Properties": {
        "DestinationCidrBlock": "10.1.32.0/19",
        "RouteTableId": {
          "Fn::GetAtt": [
            "RouteTableIdvpcpeeringroutefromproject1productionuseast1defaultprivatetoproject1developmenteuwest1defaultprivate10101197B604DF1",
            "Parameter.Value",
          ],
        },
        "VpcPeeringConnectionId": {
          "Fn::GetAtt": [
            "VpcPeeringConnectionIdproject1developmenteuwest1defaultproject1productionuseast1defaultD15D6514",
            "Parameter.Value",
          ],
        },
      },
      "Type": "AWS::EC2::Route",
    },
    "dlzncp3regionalvpcpeeringroutefromproject1productionuseast1defaultprivatetoproject1developmenteuwest1defaultprivate10164019": {
      "Properties": {
        "DestinationCidrBlock": "10.1.64.0/19",
        "RouteTableId": {
          "Fn::GetAtt": [
            "RouteTableIdvpcpeeringroutefromproject1productionuseast1defaultprivatetoproject1developmenteuwest1defaultprivate10101197B604DF1",
            "Parameter.Value",
          ],
        },
        "VpcPeeringConnectionId": {
          "Fn::GetAtt": [
            "VpcPeeringConnectionIdproject1developmenteuwest1defaultproject1productionuseast1defaultD15D6514",
            "Parameter.Value",
          ],
        },
      },
      "Type": "AWS::EC2::Route",
    },
  },
  "Rules": {
    "CheckBootstrapVersion": {
      "Assertions": [
        {
          "Assert": {
            "Fn::Not": [
              {
                "Fn::Contains": [
                  [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                  ],
                  {
                    "Ref": "BootstrapVersion",
                  },
                ],
              },
            ],
          },
          "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI.",
        },
      ],
    },
  },
}
`;

exports[`Build Local snapshot testing: workloadRegionalStacksTemplates snapshot 1`] = `
{
  "Parameters": {
    "BootstrapVersion": {
      "Default": "/cdk-bootstrap/hnb659fds/version",
      "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]",
      "Type": "AWS::SSM::Parameter::Value<String>",
    },
  },
  "Resources": {
    "dlzregionaldlzconfigrequiredtagsB46681B2": {
      "Properties": {
        "ConfigRuleName": "dlz-regional-dlz-config-required-tags",
        "InputParameters": {
          "tag1Key": "Owner",
          "tag1Value": "infra,backend",
          "tag2Key": "Project",
          "tag2Value": "dlz,accounting-internal",
          "tag3Key": "Environment",
          "tag3Value": "dlz,development,staging,production",
        },
        "Source": {
          "Owner": "AWS",
          "SourceIdentifier": "REQUIRED_TAGS",
        },
      },
      "Type": "AWS::Config::ConfigRule",
    },
    "vpcdefault": {
      "Properties": {
        "CidrBlock": "10.0.0.0/16",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-default",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
      },
      "Type": "AWS::EC2::VPC",
    },
    "vpcnetworkentityproject1developmentuseast1defaultidED485D4D": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-development.us-east-1.default/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcdefault",
            "VpcId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1developmentuseast1defaultprivateBB8A1641": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-development.us-east-1.default.private/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcprivate",
            "RouteTableId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1developmentuseast1defaultprivateprivate1idE246CD4C": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-development.us-east-1.default.private.private-1/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcprivate1",
            "SubnetId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1developmentuseast1defaultprivateprivate2id9E0065EA": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-development.us-east-1.default.private.private-2/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcprivate2",
            "SubnetId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1developmentuseast1defaultprivateprivate3id0641B062": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-development.us-east-1.default.private.private-3/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcprivate3",
            "SubnetId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1developmentuseast1defaultpublic2BE2E76E": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-development.us-east-1.default.public/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcpublic",
            "RouteTableId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1developmentuseast1defaultpublicpublic1id40854E0F": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-development.us-east-1.default.public.public-1/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcpublic1",
            "SubnetId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1developmentuseast1defaultpublicpublic2id6E532405": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-development.us-east-1.default.public.public-2/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcpublic2",
            "SubnetId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1developmentuseast1defaultpublicpublic3id9609081F": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-development.us-east-1.default.public.public-3/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcpublic3",
            "SubnetId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcprivate": {
      "Properties": {
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-private",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "vpcprivate1": {
      "Properties": {
        "AvailabilityZone": "us-east-1a",
        "CidrBlock": "10.0.0.0/19",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-private-1",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "vpcprivate1association": {
      "Properties": {
        "RouteTableId": {
          "Ref": "vpcprivate",
        },
        "SubnetId": {
          "Ref": "vpcprivate1",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "vpcprivate2": {
      "Properties": {
        "AvailabilityZone": "us-east-1b",
        "CidrBlock": "10.0.32.0/19",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-private-2",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "vpcprivate2association": {
      "Properties": {
        "RouteTableId": {
          "Ref": "vpcprivate",
        },
        "SubnetId": {
          "Ref": "vpcprivate2",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "vpcprivate3": {
      "Properties": {
        "AvailabilityZone": "us-east-1c",
        "CidrBlock": "10.0.64.0/19",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-private-3",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "vpcprivate3association": {
      "Properties": {
        "RouteTableId": {
          "Ref": "vpcprivate",
        },
        "SubnetId": {
          "Ref": "vpcprivate3",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "vpcpublic": {
      "Properties": {
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-public",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "vpcpublic1": {
      "Properties": {
        "AvailabilityZone": "us-east-1a",
        "CidrBlock": "10.0.96.0/19",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-public-1",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "vpcpublic1association": {
      "Properties": {
        "RouteTableId": {
          "Ref": "vpcpublic",
        },
        "SubnetId": {
          "Ref": "vpcpublic1",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "vpcpublic2": {
      "Properties": {
        "AvailabilityZone": "us-east-1a",
        "CidrBlock": "10.0.128.0/19",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-public-2",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "vpcpublic2association": {
      "Properties": {
        "RouteTableId": {
          "Ref": "vpcpublic",
        },
        "SubnetId": {
          "Ref": "vpcpublic2",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "vpcpublic3": {
      "Properties": {
        "AvailabilityZone": "us-east-1a",
        "CidrBlock": "10.0.160.0/19",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-public-3",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "vpcpublic3association": {
      "Properties": {
        "RouteTableId": {
          "Ref": "vpcpublic",
        },
        "SubnetId": {
          "Ref": "vpcpublic3",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
  },
  "Rules": {
    "CheckBootstrapVersion": {
      "Assertions": [
        {
          "Assert": {
            "Fn::Not": [
              {
                "Fn::Contains": [
                  [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                  ],
                  {
                    "Ref": "BootstrapVersion",
                  },
                ],
              },
            ],
          },
          "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI.",
        },
      ],
    },
  },
}
`;

exports[`Build Local snapshot testing: workloadRegionalStacksTemplates snapshot 2`] = `
{
  "Parameters": {
    "BootstrapVersion": {
      "Default": "/cdk-bootstrap/hnb659fds/version",
      "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]",
      "Type": "AWS::SSM::Parameter::Value<String>",
    },
  },
  "Resources": {
    "dlzregionaldlzconfigrequiredtagsB46681B2": {
      "Properties": {
        "ConfigRuleName": "dlz-regional-dlz-config-required-tags",
        "InputParameters": {
          "tag1Key": "Owner",
          "tag1Value": "infra,backend",
          "tag2Key": "Project",
          "tag2Value": "dlz,accounting-internal",
          "tag3Key": "Environment",
          "tag3Value": "dlz,development,staging,production",
        },
        "Source": {
          "Owner": "AWS",
          "SourceIdentifier": "REQUIRED_TAGS",
        },
      },
      "Type": "AWS::Config::ConfigRule",
    },
    "vpcdefault": {
      "Properties": {
        "CidrBlock": "10.2.0.0/16",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-default",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
      },
      "Type": "AWS::EC2::VPC",
    },
    "vpcnetworkentityproject1productionuseast1defaultid135E21B2": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-production.us-east-1.default/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcdefault",
            "VpcId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1productionuseast1defaultprivate3BDCD7C3": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-production.us-east-1.default.private/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcprivate",
            "RouteTableId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1productionuseast1defaultprivateprivate1id41D4A70E": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-production.us-east-1.default.private.private-1/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcprivate1",
            "SubnetId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1productionuseast1defaultprivateprivate2idD6CE7065": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-production.us-east-1.default.private.private-2/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcprivate2",
            "SubnetId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1productionuseast1defaultprivateprivate3idEC8815EF": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-production.us-east-1.default.private.private-3/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcprivate3",
            "SubnetId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1productionuseast1defaultpublic41C66BC9": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-production.us-east-1.default.public/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcpublic",
            "RouteTableId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1productionuseast1defaultpublicpublic1id1D875C0E": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-production.us-east-1.default.public.public-1/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcpublic1",
            "SubnetId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1productionuseast1defaultpublicpublic2id5A990D99": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-production.us-east-1.default.public.public-2/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcpublic2",
            "SubnetId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcnetworkentityproject1productionuseast1defaultpublicpublic3idEA6D2807": {
      "Properties": {
        "Name": "/dlz/networking-entity/vpc/project-1-production.us-east-1.default.public.public-3/id",
        "Tags": {
          "Environment": "dlz",
          "Owner": "infra",
          "Project": "dlz",
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "vpcpublic3",
            "SubnetId",
          ],
        },
      },
      "Type": "AWS::SSM::Parameter",
    },
    "vpcprivate": {
      "Properties": {
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-private",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "vpcprivate1": {
      "Properties": {
        "AvailabilityZone": "us-east-1a",
        "CidrBlock": "10.2.0.0/19",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-private-1",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "vpcprivate1association": {
      "Properties": {
        "RouteTableId": {
          "Ref": "vpcprivate",
        },
        "SubnetId": {
          "Ref": "vpcprivate1",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "vpcprivate2": {
      "Properties": {
        "AvailabilityZone": "us-east-1b",
        "CidrBlock": "10.2.32.0/19",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-private-2",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "vpcprivate2association": {
      "Properties": {
        "RouteTableId": {
          "Ref": "vpcprivate",
        },
        "SubnetId": {
          "Ref": "vpcprivate2",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "vpcprivate3": {
      "Properties": {
        "AvailabilityZone": "us-east-1c",
        "CidrBlock": "10.2.64.0/19",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-private-3",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "vpcprivate3association": {
      "Properties": {
        "RouteTableId": {
          "Ref": "vpcprivate",
        },
        "SubnetId": {
          "Ref": "vpcprivate3",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "vpcpublic": {
      "Properties": {
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-public",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::RouteTable",
    },
    "vpcpublic1": {
      "Properties": {
        "AvailabilityZone": "us-east-1a",
        "CidrBlock": "10.2.96.0/19",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-public-1",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "vpcpublic1association": {
      "Properties": {
        "RouteTableId": {
          "Ref": "vpcpublic",
        },
        "SubnetId": {
          "Ref": "vpcpublic1",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "vpcpublic2": {
      "Properties": {
        "AvailabilityZone": "us-east-1a",
        "CidrBlock": "10.2.128.0/19",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-public-2",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "vpcpublic2association": {
      "Properties": {
        "RouteTableId": {
          "Ref": "vpcpublic",
        },
        "SubnetId": {
          "Ref": "vpcpublic2",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
    "vpcpublic3": {
      "Properties": {
        "AvailabilityZone": "us-east-1a",
        "CidrBlock": "10.2.160.0/19",
        "Tags": [
          {
            "Key": "Environment",
            "Value": "dlz",
          },
          {
            "Key": "Name",
            "Value": "vpc-public-3",
          },
          {
            "Key": "Owner",
            "Value": "infra",
          },
          {
            "Key": "Project",
            "Value": "dlz",
          },
        ],
        "VpcId": {
          "Ref": "vpcdefault",
        },
      },
      "Type": "AWS::EC2::Subnet",
    },
    "vpcpublic3association": {
      "Properties": {
        "RouteTableId": {
          "Ref": "vpcpublic",
        },
        "SubnetId": {
          "Ref": "vpcpublic3",
        },
      },
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
    },
  },
  "Rules": {
    "CheckBootstrapVersion": {
      "Assertions": [
        {
          "Assert": {
            "Fn::Not": [
              {
                "Fn::Contains": [
                  [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                  ],
                  {
                    "Ref": "BootstrapVersion",
                  },
                ],
              },
            ],
          },
          "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI.",
        },
      ],
    },
  },
}
`;
